"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/auth/[...nextauth]";
exports.ids = ["pages/api/auth/[...nextauth]"];
exports.modules = {

/***/ "bcryptjs":
/*!***************************!*\
  !*** external "bcryptjs" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("bcryptjs");

/***/ }),

/***/ "jsonwebtoken":
/*!*******************************!*\
  !*** external "jsonwebtoken" ***!
  \*******************************/
/***/ ((module) => {

module.exports = require("jsonwebtoken");

/***/ }),

/***/ "next-auth":
/*!****************************!*\
  !*** external "next-auth" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("next-auth");

/***/ }),

/***/ "next-auth/providers/google":
/*!*********************************************!*\
  !*** external "next-auth/providers/google" ***!
  \*********************************************/
/***/ ((module) => {

module.exports = require("next-auth/providers/google");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "@auth/sequelize-adapter":
/*!******************************************!*\
  !*** external "@auth/sequelize-adapter" ***!
  \******************************************/
/***/ ((module) => {

module.exports = import("@auth/sequelize-adapter");;

/***/ }),

/***/ "sequelize":
/*!****************************!*\
  !*** external "sequelize" ***!
  \****************************/
/***/ ((module) => {

module.exports = import("sequelize");;

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fauth%2F%5B...nextauth%5D&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fauth%2F%5B...nextauth%5D.ts&middlewareConfigBase64=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fauth%2F%5B...nextauth%5D&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fauth%2F%5B...nextauth%5D.ts&middlewareConfigBase64=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_auth_nextauth_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages/api/auth/[...nextauth].ts */ \"(api)/./pages/api/auth/[...nextauth].ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_pages_api_auth_nextauth_ts__WEBPACK_IMPORTED_MODULE_3__]);\n_pages_api_auth_nextauth_ts__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_auth_nextauth_ts__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_auth_nextauth_ts__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/auth/[...nextauth]\",\n        pathname: \"/api/auth/[...nextauth]\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_auth_nextauth_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmF1dGglMkYlNUIuLi5uZXh0YXV0aCU1RCZwcmVmZXJyZWRSZWdpb249JmFic29sdXRlUGFnZVBhdGg9LiUyRnBhZ2VzJTJGYXBpJTJGYXV0aCUyRiU1Qi4uLm5leHRhdXRoJTVELnRzJm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNMO0FBQzFEO0FBQzhEO0FBQzlEO0FBQ0EsaUVBQWUsd0VBQUssQ0FBQyx3REFBUSxZQUFZLEVBQUM7QUFDMUM7QUFDTyxlQUFlLHdFQUFLLENBQUMsd0RBQVE7QUFDcEM7QUFDTyx3QkFBd0IsZ0hBQW1CO0FBQ2xEO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVk7QUFDWixDQUFDOztBQUVELHFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaW52b2ljZWdlbi8/YjZiNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc0FQSVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvcGFnZXMtYXBpL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSB1c2VybGFuZCBjb2RlLlxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi4vcGFnZXMvYXBpL2F1dGgvWy4uLm5leHRhdXRoXS50c1wiO1xuLy8gUmUtZXhwb3J0IHRoZSBoYW5kbGVyIChzaG91bGQgYmUgdGhlIGRlZmF1bHQgZXhwb3J0KS5cbmV4cG9ydCBkZWZhdWx0IGhvaXN0KHVzZXJsYW5kLCBcImRlZmF1bHRcIik7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCBcImNvbmZpZ1wiKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2F1dGgvWy4uLm5leHRhdXRoXVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2F1dGgvWy4uLm5leHRhdXRoXVwiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcIlwiXG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLWFwaS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fauth%2F%5B...nextauth%5D&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fauth%2F%5B...nextauth%5D.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./lib/db/db.ts":
/*!**********************!*\
  !*** ./lib/db/db.ts ***!
  \**********************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   initDb: () => (/* binding */ initDb),\n/* harmony export */   sequelize: () => (/* binding */ sequelize),\n/* harmony export */   testConnection: () => (/* binding */ testConnection)\n/* harmony export */ });\n/* harmony import */ var sequelize__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! sequelize */ \"sequelize\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([sequelize__WEBPACK_IMPORTED_MODULE_0__]);\nsequelize__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n// Initialize Sequelize with environment variables\nlet sequelize;\n// Check if running on Vercel with Vercel Postgres\nif (process.env.POSTGRES_URL) {\n    console.log(\"Using Vercel Postgres connection\");\n    // Use the Vercel Postgres connection string\n    sequelize = new sequelize__WEBPACK_IMPORTED_MODULE_0__.Sequelize(process.env.POSTGRES_URL, {\n        dialect: \"postgres\",\n        logging:  true ? console.log : 0,\n        dialectOptions: {\n            ssl: {\n                require: true,\n                rejectUnauthorized: false\n            }\n        }\n    });\n} else {\n    // Use traditional connection parameters for local development\n    console.log(\"Using local PostgreSQL connection\");\n    sequelize = new sequelize__WEBPACK_IMPORTED_MODULE_0__.Sequelize(process.env.DB_NAME || \"invoicegen\", process.env.DB_USER || \"postgres\", process.env.DB_PASSWORD || \"postgres\", {\n        host: process.env.DB_HOST || \"localhost\",\n        port: parseInt(process.env.DB_PORT || \"5432\"),\n        dialect: \"postgres\",\n        logging:  true ? console.log : 0,\n        dialectOptions: {\n            ssl:  false ? 0 : false\n        }\n    });\n}\n// Test the connection with retry logic\nconst testConnection = async (retries = 5, delay = 5000)=>{\n    let currentTry = 0;\n    while(currentTry < retries){\n        try {\n            await sequelize.authenticate();\n            console.log(\"Database connection has been established successfully.\");\n            return true;\n        } catch (error) {\n            currentTry++;\n            console.error(`Unable to connect to the database (attempt ${currentTry}/${retries}):`, error);\n            if (currentTry >= retries) {\n                console.error(\"Maximum connection attempts reached. Database connection failed.\");\n                // In production, we might want to notify administrators\n                if (false) {}\n                return false;\n            }\n            // Wait before trying again\n            console.log(`Retrying in ${delay / 1000} seconds...`);\n            await new Promise((resolve)=>setTimeout(resolve, delay));\n        }\n    }\n    return false;\n};\n// Initialize database\nconst initDb = async ()=>{\n    try {\n        // First test the connection with retry logic\n        const connectionSuccessful = await testConnection();\n        // If connection failed, return false\n        if (!connectionSuccessful) {\n            console.error(\"Database connection failed after multiple retries\");\n            return false;\n        }\n        // Import models\n        __webpack_require__(/*! ./models/User */ \"(api)/./lib/db/models/User.ts\");\n        __webpack_require__(/*! ./models/Invoice */ \"(api)/./lib/db/models/Invoice.ts\");\n        // In production, we don't want to alter tables automatically\n        // This should be done through migrations\n        const syncOptions =  true ? {\n            alter: true\n        } : 0;\n        await sequelize.sync(syncOptions);\n        console.log(\"Database synchronized successfully.\");\n        return true;\n    } catch (error) {\n        console.error(\"Error synchronizing database:\", error);\n        // In production, we might want to notify administrators\n        if (false) {}\n        return false;\n    }\n};\n\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Yi9kYi50cz8wN2E3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFNlcXVlbGl6ZSB9IGZyb20gJ3NlcXVlbGl6ZSc7XG5cbi8vIEluaXRpYWxpemUgU2VxdWVsaXplIHdpdGggZW52aXJvbm1lbnQgdmFyaWFibGVzXG5sZXQgc2VxdWVsaXplOiBTZXF1ZWxpemU7XG5cbi8vIENoZWNrIGlmIHJ1bm5pbmcgb24gVmVyY2VsIHdpdGggVmVyY2VsIFBvc3RncmVzXG5pZiAocHJvY2Vzcy5lbnYuUE9TVEdSRVNfVVJMKSB7XG4gIGNvbnNvbGUubG9nKCdVc2luZyBWZXJjZWwgUG9zdGdyZXMgY29ubmVjdGlvbicpO1xuICAvLyBVc2UgdGhlIFZlcmNlbCBQb3N0Z3JlcyBjb25uZWN0aW9uIHN0cmluZ1xuICBzZXF1ZWxpemUgPSBuZXcgU2VxdWVsaXplKHByb2Nlc3MuZW52LlBPU1RHUkVTX1VSTCwge1xuICAgIGRpYWxlY3Q6ICdwb3N0Z3JlcycsXG4gICAgbG9nZ2luZzogcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcgPyBjb25zb2xlLmxvZyA6IGZhbHNlLFxuICAgIGRpYWxlY3RPcHRpb25zOiB7XG4gICAgICBzc2w6IHtcbiAgICAgICAgcmVxdWlyZTogdHJ1ZSxcbiAgICAgICAgcmVqZWN0VW5hdXRob3JpemVkOiBmYWxzZVxuICAgICAgfVxuICAgIH1cbiAgfSk7XG59IGVsc2Uge1xuICAvLyBVc2UgdHJhZGl0aW9uYWwgY29ubmVjdGlvbiBwYXJhbWV0ZXJzIGZvciBsb2NhbCBkZXZlbG9wbWVudFxuICBjb25zb2xlLmxvZygnVXNpbmcgbG9jYWwgUG9zdGdyZVNRTCBjb25uZWN0aW9uJyk7XG4gIHNlcXVlbGl6ZSA9IG5ldyBTZXF1ZWxpemUoXG4gICAgcHJvY2Vzcy5lbnYuREJfTkFNRSB8fCAnaW52b2ljZWdlbicsXG4gICAgcHJvY2Vzcy5lbnYuREJfVVNFUiB8fCAncG9zdGdyZXMnLFxuICAgIHByb2Nlc3MuZW52LkRCX1BBU1NXT1JEIHx8ICdwb3N0Z3JlcycsXG4gICAge1xuICAgICAgaG9zdDogcHJvY2Vzcy5lbnYuREJfSE9TVCB8fCAnbG9jYWxob3N0JyxcbiAgICAgIHBvcnQ6IHBhcnNlSW50KHByb2Nlc3MuZW52LkRCX1BPUlQgfHwgJzU0MzInKSxcbiAgICAgIGRpYWxlY3Q6ICdwb3N0Z3JlcycsXG4gICAgICBsb2dnaW5nOiBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JyA/IGNvbnNvbGUubG9nIDogZmFsc2UsXG4gICAgICBkaWFsZWN0T3B0aW9uczoge1xuICAgICAgICBzc2w6IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicgPyB7XG4gICAgICAgICAgcmVxdWlyZTogdHJ1ZSxcbiAgICAgICAgICByZWplY3RVbmF1dGhvcml6ZWQ6IGZhbHNlXG4gICAgICAgIH0gOiBmYWxzZVxuICAgICAgfVxuICAgIH1cbiAgKTtcbn1cblxuLy8gVGVzdCB0aGUgY29ubmVjdGlvbiB3aXRoIHJldHJ5IGxvZ2ljXG5jb25zdCB0ZXN0Q29ubmVjdGlvbiA9IGFzeW5jIChyZXRyaWVzID0gNSwgZGVsYXkgPSA1MDAwKSA9PiB7XG4gIGxldCBjdXJyZW50VHJ5ID0gMDtcbiAgXG4gIHdoaWxlIChjdXJyZW50VHJ5IDwgcmV0cmllcykge1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCBzZXF1ZWxpemUuYXV0aGVudGljYXRlKCk7XG4gICAgICBjb25zb2xlLmxvZygnRGF0YWJhc2UgY29ubmVjdGlvbiBoYXMgYmVlbiBlc3RhYmxpc2hlZCBzdWNjZXNzZnVsbHkuJyk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY3VycmVudFRyeSsrO1xuICAgICAgY29uc29sZS5lcnJvcihgVW5hYmxlIHRvIGNvbm5lY3QgdG8gdGhlIGRhdGFiYXNlIChhdHRlbXB0ICR7Y3VycmVudFRyeX0vJHtyZXRyaWVzfSk6YCwgZXJyb3IpO1xuICAgICAgXG4gICAgICBpZiAoY3VycmVudFRyeSA+PSByZXRyaWVzKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ01heGltdW0gY29ubmVjdGlvbiBhdHRlbXB0cyByZWFjaGVkLiBEYXRhYmFzZSBjb25uZWN0aW9uIGZhaWxlZC4nKTtcbiAgICAgICAgXG4gICAgICAgIC8vIEluIHByb2R1Y3Rpb24sIHdlIG1pZ2h0IHdhbnQgdG8gbm90aWZ5IGFkbWluaXN0cmF0b3JzXG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgLy8gSGVyZSB5b3UgY291bGQgaW50ZWdyYXRlIHdpdGggYW4gZXJyb3IgcmVwb3J0aW5nIHNlcnZpY2UgbGlrZSBTZW50cnlcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdDUklUSUNBTDogRGF0YWJhc2UgY29ubmVjdGlvbiBmYWlsZWQgaW4gcHJvZHVjdGlvbiBlbnZpcm9ubWVudCcpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFdhaXQgYmVmb3JlIHRyeWluZyBhZ2FpblxuICAgICAgY29uc29sZS5sb2coYFJldHJ5aW5nIGluICR7ZGVsYXkvMTAwMH0gc2Vjb25kcy4uLmApO1xuICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIGRlbGF5KSk7XG4gICAgfVxuICB9XG4gIFxuICByZXR1cm4gZmFsc2U7XG59O1xuXG4vLyBJbml0aWFsaXplIGRhdGFiYXNlXG5jb25zdCBpbml0RGIgPSBhc3luYyAoKSA9PiB7XG4gIHRyeSB7XG4gICAgLy8gRmlyc3QgdGVzdCB0aGUgY29ubmVjdGlvbiB3aXRoIHJldHJ5IGxvZ2ljXG4gICAgY29uc3QgY29ubmVjdGlvblN1Y2Nlc3NmdWwgPSBhd2FpdCB0ZXN0Q29ubmVjdGlvbigpO1xuICAgIFxuICAgIC8vIElmIGNvbm5lY3Rpb24gZmFpbGVkLCByZXR1cm4gZmFsc2VcbiAgICBpZiAoIWNvbm5lY3Rpb25TdWNjZXNzZnVsKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdEYXRhYmFzZSBjb25uZWN0aW9uIGZhaWxlZCBhZnRlciBtdWx0aXBsZSByZXRyaWVzJyk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIFxuICAgIC8vIEltcG9ydCBtb2RlbHNcbiAgICByZXF1aXJlKCcuL21vZGVscy9Vc2VyJyk7XG4gICAgcmVxdWlyZSgnLi9tb2RlbHMvSW52b2ljZScpO1xuICAgIFxuICAgIC8vIEluIHByb2R1Y3Rpb24sIHdlIGRvbid0IHdhbnQgdG8gYWx0ZXIgdGFibGVzIGF1dG9tYXRpY2FsbHlcbiAgICAvLyBUaGlzIHNob3VsZCBiZSBkb25lIHRocm91Z2ggbWlncmF0aW9uc1xuICAgIGNvbnN0IHN5bmNPcHRpb25zID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcgXG4gICAgICA/IHsgYWx0ZXI6IHRydWUgfVxuICAgICAgOiB7IGFsdGVyOiBmYWxzZSB9O1xuICAgIFxuICAgIGF3YWl0IHNlcXVlbGl6ZS5zeW5jKHN5bmNPcHRpb25zKTtcbiAgICBjb25zb2xlLmxvZygnRGF0YWJhc2Ugc3luY2hyb25pemVkIHN1Y2Nlc3NmdWxseS4nKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzeW5jaHJvbml6aW5nIGRhdGFiYXNlOicsIGVycm9yKTtcbiAgICBcbiAgICAvLyBJbiBwcm9kdWN0aW9uLCB3ZSBtaWdodCB3YW50IHRvIG5vdGlmeSBhZG1pbmlzdHJhdG9yc1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAvLyBIZXJlIHlvdSBjb3VsZCBpbnRlZ3JhdGUgd2l0aCBhbiBlcnJvciByZXBvcnRpbmcgc2VydmljZSBsaWtlIFNlbnRyeVxuICAgICAgY29uc29sZS5lcnJvcignQ1JJVElDQUw6IERhdGFiYXNlIHN5bmNocm9uaXphdGlvbiBmYWlsZWQgaW4gcHJvZHVjdGlvbiBlbnZpcm9ubWVudCcpO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn07XG5cbmV4cG9ydCB7IHNlcXVlbGl6ZSwgdGVzdENvbm5lY3Rpb24sIGluaXREYiB9OyJdLCJuYW1lcyI6WyJTZXF1ZWxpemUiLCJzZXF1ZWxpemUiLCJwcm9jZXNzIiwiZW52IiwiUE9TVEdSRVNfVVJMIiwiY29uc29sZSIsImxvZyIsImRpYWxlY3QiLCJsb2dnaW5nIiwiZGlhbGVjdE9wdGlvbnMiLCJzc2wiLCJyZXF1aXJlIiwicmVqZWN0VW5hdXRob3JpemVkIiwiREJfTkFNRSIsIkRCX1VTRVIiLCJEQl9QQVNTV09SRCIsImhvc3QiLCJEQl9IT1NUIiwicG9ydCIsInBhcnNlSW50IiwiREJfUE9SVCIsInRlc3RDb25uZWN0aW9uIiwicmV0cmllcyIsImRlbGF5IiwiY3VycmVudFRyeSIsImF1dGhlbnRpY2F0ZSIsImVycm9yIiwiUHJvbWlzZSIsInJlc29sdmUiLCJzZXRUaW1lb3V0IiwiaW5pdERiIiwiY29ubmVjdGlvblN1Y2Nlc3NmdWwiLCJzeW5jT3B0aW9ucyIsImFsdGVyIiwic3luYyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./lib/db/db.ts\n");

/***/ }),

/***/ "(api)/./lib/db/models/Invoice.ts":
/*!**********************************!*\
  !*** ./lib/db/models/Invoice.ts ***!
  \**********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var sequelize__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! sequelize */ \"sequelize\");\n/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../db */ \"(api)/./lib/db/db.ts\");\n/* harmony import */ var _User__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./User */ \"(api)/./lib/db/models/User.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([sequelize__WEBPACK_IMPORTED_MODULE_0__, _db__WEBPACK_IMPORTED_MODULE_1__, _User__WEBPACK_IMPORTED_MODULE_2__]);\n([sequelize__WEBPACK_IMPORTED_MODULE_0__, _db__WEBPACK_IMPORTED_MODULE_1__, _User__WEBPACK_IMPORTED_MODULE_2__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\nconst Invoice = _db__WEBPACK_IMPORTED_MODULE_1__.sequelize.define(\"Invoice\", {\n    id: {\n        type: sequelize__WEBPACK_IMPORTED_MODULE_0__.DataTypes.UUID,\n        defaultValue: sequelize__WEBPACK_IMPORTED_MODULE_0__.DataTypes.UUIDV4,\n        primaryKey: true\n    },\n    invoiceNumber: {\n        type: sequelize__WEBPACK_IMPORTED_MODULE_0__.DataTypes.STRING,\n        allowNull: true\n    },\n    invoiceDate: {\n        type: sequelize__WEBPACK_IMPORTED_MODULE_0__.DataTypes.DATEONLY,\n        allowNull: false,\n        defaultValue: sequelize__WEBPACK_IMPORTED_MODULE_0__.DataTypes.NOW\n    },\n    dueDate: {\n        type: sequelize__WEBPACK_IMPORTED_MODULE_0__.DataTypes.DATEONLY,\n        allowNull: true\n    },\n    logoUrl: {\n        type: sequelize__WEBPACK_IMPORTED_MODULE_0__.DataTypes.STRING,\n        allowNull: true\n    },\n    sender: {\n        type: sequelize__WEBPACK_IMPORTED_MODULE_0__.DataTypes.JSONB,\n        allowNull: false,\n        defaultValue: {\n            name: \"\",\n            address: \"\",\n            city: \"\",\n            postalCode: \"\",\n            country: \"\"\n        }\n    },\n    recipient: {\n        type: sequelize__WEBPACK_IMPORTED_MODULE_0__.DataTypes.JSONB,\n        allowNull: false,\n        defaultValue: {\n            name: \"\",\n            address: \"\",\n            city: \"\",\n            postalCode: \"\",\n            country: \"\"\n        }\n    },\n    items: {\n        type: sequelize__WEBPACK_IMPORTED_MODULE_0__.DataTypes.JSONB,\n        allowNull: false,\n        defaultValue: []\n    },\n    currency: {\n        type: sequelize__WEBPACK_IMPORTED_MODULE_0__.DataTypes.STRING,\n        allowNull: false,\n        defaultValue: \"USD\"\n    },\n    taxRate: {\n        type: sequelize__WEBPACK_IMPORTED_MODULE_0__.DataTypes.FLOAT,\n        allowNull: false,\n        defaultValue: 0\n    },\n    subtotal: {\n        type: sequelize__WEBPACK_IMPORTED_MODULE_0__.DataTypes.FLOAT,\n        allowNull: false,\n        defaultValue: 0\n    },\n    total: {\n        type: sequelize__WEBPACK_IMPORTED_MODULE_0__.DataTypes.FLOAT,\n        allowNull: false,\n        defaultValue: 0\n    },\n    UserId: {\n        type: sequelize__WEBPACK_IMPORTED_MODULE_0__.DataTypes.UUID,\n        allowNull: false,\n        references: {\n            model: \"Users\",\n            key: \"id\"\n        }\n    }\n}, {\n    timestamps: true,\n    hooks: {\n        beforeCreate: (invoice)=>{\n            // Calculate subtotal and total before saving\n            const subtotal = invoice.items.reduce((sum, item)=>sum + item.quantity * item.unitPrice, 0);\n            const taxAmount = subtotal * (invoice.taxRate / 100);\n            invoice.subtotal = subtotal;\n            invoice.total = subtotal + taxAmount;\n        },\n        beforeUpdate: (invoice)=>{\n            // Recalculate if items or tax rate changed\n            if (invoice.changed(\"items\") || invoice.changed(\"taxRate\")) {\n                const subtotal = invoice.items.reduce((sum, item)=>sum + item.quantity * item.unitPrice, 0);\n                const taxAmount = subtotal * (invoice.taxRate / 100);\n                invoice.subtotal = subtotal;\n                invoice.total = subtotal + taxAmount;\n            }\n        }\n    }\n});\n// Define association\n_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].hasMany(Invoice);\nInvoice.belongsTo(_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"]);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Invoice);\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QzdCO1FBQ0Y7SUFDRjtBQUNGO0FBR0YscUJBQXFCO0FBQ3JCNUMscURBQVksQ0FBQ0M7QUFDYkEsUUFBUStDLFNBQVMsQ0FBQ2hELDZDQUFJQTtBQUV0QixpRUFBZUMsT0FBT0EsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2ludm9pY2VnZW4vLi9saWIvZGIvbW9kZWxzL0ludm9pY2UudHM/ZmRlZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBEYXRhVHlwZXMsIE1vZGVsLCBPcHRpb25hbCB9IGZyb20gJ3NlcXVlbGl6ZSc7XG5pbXBvcnQgeyBzZXF1ZWxpemUgfSBmcm9tICcuLi9kYic7XG5pbXBvcnQgVXNlciBmcm9tICcuL1VzZXInO1xuXG4vLyBEZWZpbmUgSW52b2ljZSBJdGVtIGludGVyZmFjZVxuaW50ZXJmYWNlIEludm9pY2VJdGVtIHtcbiAgaWQ6IHN0cmluZztcbiAgZGVzY3JpcHRpb246IHN0cmluZztcbiAgcXVhbnRpdHk6IG51bWJlcjtcbiAgdW5pdFByaWNlOiBudW1iZXI7XG59XG5cbi8vIERlZmluZSBJbnZvaWNlIGF0dHJpYnV0ZXNcbmludGVyZmFjZSBJbnZvaWNlQXR0cmlidXRlcyB7XG4gIGlkOiBzdHJpbmc7XG4gIGludm9pY2VOdW1iZXI6IHN0cmluZztcbiAgaW52b2ljZURhdGU6IERhdGU7XG4gIGR1ZURhdGU/OiBEYXRlO1xuICBsb2dvVXJsPzogc3RyaW5nO1xuICBzZW5kZXI6IHtcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgYWRkcmVzczogc3RyaW5nO1xuICAgIGNpdHk6IHN0cmluZztcbiAgICBwb3N0YWxDb2RlOiBzdHJpbmc7XG4gICAgY291bnRyeTogc3RyaW5nO1xuICB9O1xuICByZWNpcGllbnQ6IHtcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgYWRkcmVzczogc3RyaW5nO1xuICAgIGNpdHk6IHN0cmluZztcbiAgICBwb3N0YWxDb2RlOiBzdHJpbmc7XG4gICAgY291bnRyeTogc3RyaW5nO1xuICB9O1xuICBpdGVtczogSW52b2ljZUl0ZW1bXTtcbiAgY3VycmVuY3k6IHN0cmluZztcbiAgdGF4UmF0ZTogbnVtYmVyO1xuICBzdWJ0b3RhbDogbnVtYmVyO1xuICB0b3RhbDogbnVtYmVyO1xuICBVc2VySWQ6IHN0cmluZztcbiAgY3JlYXRlZEF0PzogRGF0ZTtcbiAgdXBkYXRlZEF0PzogRGF0ZTtcbn1cblxuLy8gRGVmaW5lIG9wdGlvbmFsIGF0dHJpYnV0ZXMgZm9yIEludm9pY2UgY3JlYXRpb25cbmludGVyZmFjZSBJbnZvaWNlQ3JlYXRpb25BdHRyaWJ1dGVzIGV4dGVuZHMgT3B0aW9uYWw8SW52b2ljZUF0dHJpYnV0ZXMsICdpZCcgfCAnaW52b2ljZU51bWJlcicgfCAnc3VidG90YWwnIHwgJ3RvdGFsJz4ge31cblxuLy8gRGVmaW5lIEludm9pY2UgbW9kZWxcbmludGVyZmFjZSBJbnZvaWNlSW5zdGFuY2UgZXh0ZW5kcyBNb2RlbDxJbnZvaWNlQXR0cmlidXRlcywgSW52b2ljZUNyZWF0aW9uQXR0cmlidXRlcz4sIEludm9pY2VBdHRyaWJ1dGVzIHt9XG5cbmNvbnN0IEludm9pY2UgPSBzZXF1ZWxpemUuZGVmaW5lPEludm9pY2VJbnN0YW5jZT4oXG4gICdJbnZvaWNlJyxcbiAge1xuICAgIGlkOiB7XG4gICAgICB0eXBlOiBEYXRhVHlwZXMuVVVJRCxcbiAgICAgIGRlZmF1bHRWYWx1ZTogRGF0YVR5cGVzLlVVSURWNCxcbiAgICAgIHByaW1hcnlLZXk6IHRydWVcbiAgICB9LFxuICAgIGludm9pY2VOdW1iZXI6IHtcbiAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgICBhbGxvd051bGw6IHRydWVcbiAgICB9LFxuICAgIGludm9pY2VEYXRlOiB7XG4gICAgICB0eXBlOiBEYXRhVHlwZXMuREFURU9OTFksXG4gICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgZGVmYXVsdFZhbHVlOiBEYXRhVHlwZXMuTk9XXG4gICAgfSxcbiAgICBkdWVEYXRlOiB7XG4gICAgICB0eXBlOiBEYXRhVHlwZXMuREFURU9OTFksXG4gICAgICBhbGxvd051bGw6IHRydWVcbiAgICB9LFxuICAgIGxvZ29Vcmw6IHtcbiAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgICBhbGxvd051bGw6IHRydWVcbiAgICB9LFxuICAgIHNlbmRlcjoge1xuICAgICAgdHlwZTogRGF0YVR5cGVzLkpTT05CLFxuICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgIGRlZmF1bHRWYWx1ZToge1xuICAgICAgICBuYW1lOiAnJyxcbiAgICAgICAgYWRkcmVzczogJycsXG4gICAgICAgIGNpdHk6ICcnLFxuICAgICAgICBwb3N0YWxDb2RlOiAnJyxcbiAgICAgICAgY291bnRyeTogJydcbiAgICAgIH1cbiAgICB9LFxuICAgIHJlY2lwaWVudDoge1xuICAgICAgdHlwZTogRGF0YVR5cGVzLkpTT05CLFxuICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgIGRlZmF1bHRWYWx1ZToge1xuICAgICAgICBuYW1lOiAnJyxcbiAgICAgICAgYWRkcmVzczogJycsXG4gICAgICAgIGNpdHk6ICcnLFxuICAgICAgICBwb3N0YWxDb2RlOiAnJyxcbiAgICAgICAgY291bnRyeTogJydcbiAgICAgIH1cbiAgICB9LFxuICAgIGl0ZW1zOiB7XG4gICAgICB0eXBlOiBEYXRhVHlwZXMuSlNPTkIsXG4gICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgZGVmYXVsdFZhbHVlOiBbXVxuICAgIH0sXG4gICAgY3VycmVuY3k6IHtcbiAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgZGVmYXVsdFZhbHVlOiAnVVNEJ1xuICAgIH0sXG4gICAgdGF4UmF0ZToge1xuICAgICAgdHlwZTogRGF0YVR5cGVzLkZMT0FULFxuICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgIGRlZmF1bHRWYWx1ZTogMFxuICAgIH0sXG4gICAgc3VidG90YWw6IHtcbiAgICAgIHR5cGU6IERhdGFUeXBlcy5GTE9BVCxcbiAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgICBkZWZhdWx0VmFsdWU6IDBcbiAgICB9LFxuICAgIHRvdGFsOiB7XG4gICAgICB0eXBlOiBEYXRhVHlwZXMuRkxPQVQsXG4gICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgZGVmYXVsdFZhbHVlOiAwXG4gICAgfSxcbiAgICBVc2VySWQ6IHtcbiAgICAgIHR5cGU6IERhdGFUeXBlcy5VVUlELFxuICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgIHJlZmVyZW5jZXM6IHtcbiAgICAgICAgbW9kZWw6ICdVc2VycycsXG4gICAgICAgIGtleTogJ2lkJ1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAge1xuICAgIHRpbWVzdGFtcHM6IHRydWUsXG4gICAgaG9va3M6IHtcbiAgICAgIGJlZm9yZUNyZWF0ZTogKGludm9pY2U6IEludm9pY2VJbnN0YW5jZSkgPT4ge1xuICAgICAgICAvLyBDYWxjdWxhdGUgc3VidG90YWwgYW5kIHRvdGFsIGJlZm9yZSBzYXZpbmdcbiAgICAgICAgY29uc3Qgc3VidG90YWwgPSBpbnZvaWNlLml0ZW1zLnJlZHVjZShcbiAgICAgICAgICAoc3VtLCBpdGVtKSA9PiBzdW0gKyAoaXRlbS5xdWFudGl0eSAqIGl0ZW0udW5pdFByaWNlKSxcbiAgICAgICAgICAwXG4gICAgICAgICk7XG4gICAgICAgIGNvbnN0IHRheEFtb3VudCA9IHN1YnRvdGFsICogKGludm9pY2UudGF4UmF0ZSAvIDEwMCk7XG4gICAgICAgIFxuICAgICAgICBpbnZvaWNlLnN1YnRvdGFsID0gc3VidG90YWw7XG4gICAgICAgIGludm9pY2UudG90YWwgPSBzdWJ0b3RhbCArIHRheEFtb3VudDtcbiAgICAgIH0sXG4gICAgICBiZWZvcmVVcGRhdGU6IChpbnZvaWNlOiBJbnZvaWNlSW5zdGFuY2UpID0+IHtcbiAgICAgICAgLy8gUmVjYWxjdWxhdGUgaWYgaXRlbXMgb3IgdGF4IHJhdGUgY2hhbmdlZFxuICAgICAgICBpZiAoaW52b2ljZS5jaGFuZ2VkKCdpdGVtcycpIHx8IGludm9pY2UuY2hhbmdlZCgndGF4UmF0ZScpKSB7XG4gICAgICAgICAgY29uc3Qgc3VidG90YWwgPSBpbnZvaWNlLml0ZW1zLnJlZHVjZShcbiAgICAgICAgICAgIChzdW0sIGl0ZW0pID0+IHN1bSArIChpdGVtLnF1YW50aXR5ICogaXRlbS51bml0UHJpY2UpLFxuICAgICAgICAgICAgMFxuICAgICAgICAgICk7XG4gICAgICAgICAgY29uc3QgdGF4QW1vdW50ID0gc3VidG90YWwgKiAoaW52b2ljZS50YXhSYXRlIC8gMTAwKTtcbiAgICAgICAgICBcbiAgICAgICAgICBpbnZvaWNlLnN1YnRvdGFsID0gc3VidG90YWw7XG4gICAgICAgICAgaW52b2ljZS50b3RhbCA9IHN1YnRvdGFsICsgdGF4QW1vdW50O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4pO1xuXG4vLyBEZWZpbmUgYXNzb2NpYXRpb25cblVzZXIuaGFzTWFueShJbnZvaWNlKTtcbkludm9pY2UuYmVsb25nc1RvKFVzZXIpO1xuXG5leHBvcnQgZGVmYXVsdCBJbnZvaWNlOyJdLCJuYW1lcyI6WyJEYXRhVHlwZXMiLCJzZXF1ZWxpemUiLCJVc2VyIiwiSW52b2ljZSIsImRlZmluZSIsImlkIiwidHlwZSIsIlVVSUQiLCJkZWZhdWx0VmFsdWUiLCJVVUlEVjQiLCJwcmltYXJ5S2V5IiwiaW52b2ljZU51bWJlciIsIlNUUklORyIsImFsbG93TnVsbCIsImludm9pY2VEYXRlIiwiREFURU9OTFkiLCJOT1ciLCJkdWVEYXRlIiwibG9nb1VybCIsInNlbmRlciIsIkpTT05CIiwibmFtZSIsImFkZHJlc3MiLCJjaXR5IiwicG9zdGFsQ29kZSIsImNvdW50cnkiLCJyZWNpcGllbnQiLCJpdGVtcyIsImN1cnJlbmN5IiwidGF4UmF0ZSIsIkZMT0FUIiwic3VidG90YWwiLCJ0b3RhbCIsIlVzZXJJZCIsInJlZmVyZW5jZXMiLCJtb2RlbCIsImtleSIsInRpbWVzdGFtcHMiLCJob29rcyIsImJlZm9yZUNyZWF0ZSIsImludm9pY2UiLCJyZWR1Y2UiLCJzdW0iLCJpdGVtIiwicXVhbnRpdHkiLCJ1bml0UHJpY2UiLCJ0YXhBbW91bnQiLCJiZWZvcmVVcGRhdGUiLCJjaGFuZ2VkIiwiaGFzTWFueSIsImJlbG9uZ3NUbyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./lib/db/models/Invoice.ts\n");

/***/ }),

/***/ "(api)/./lib/db/models/User.ts":
/*!*******************************!*\
  !*** ./lib/db/models/User.ts ***!
  \*******************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var sequelize__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! sequelize */ \"sequelize\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! bcryptjs */ \"bcryptjs\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(bcryptjs__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../db */ \"(api)/./lib/db/db.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([sequelize__WEBPACK_IMPORTED_MODULE_0__, _db__WEBPACK_IMPORTED_MODULE_2__]);\n([sequelize__WEBPACK_IMPORTED_MODULE_0__, _db__WEBPACK_IMPORTED_MODULE_2__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\nconst User = _db__WEBPACK_IMPORTED_MODULE_2__.sequelize.define(\"User\", {\n    id: {\n        type: sequelize__WEBPACK_IMPORTED_MODULE_0__.DataTypes.UUID,\n        defaultValue: sequelize__WEBPACK_IMPORTED_MODULE_0__.DataTypes.UUIDV4,\n        primaryKey: true\n    },\n    email: {\n        type: sequelize__WEBPACK_IMPORTED_MODULE_0__.DataTypes.STRING,\n        allowNull: false,\n        unique: true,\n        validate: {\n            isEmail: true\n        }\n    },\n    password: {\n        type: sequelize__WEBPACK_IMPORTED_MODULE_0__.DataTypes.STRING,\n        allowNull: true\n    },\n    emailVerified: {\n        type: sequelize__WEBPACK_IMPORTED_MODULE_0__.DataTypes.BOOLEAN,\n        defaultValue: false\n    },\n    name: {\n        type: sequelize__WEBPACK_IMPORTED_MODULE_0__.DataTypes.STRING,\n        allowNull: true\n    },\n    image: {\n        type: sequelize__WEBPACK_IMPORTED_MODULE_0__.DataTypes.STRING,\n        allowNull: true\n    },\n    googleId: {\n        type: sequelize__WEBPACK_IMPORTED_MODULE_0__.DataTypes.STRING,\n        allowNull: true,\n        unique: true\n    },\n    settings: {\n        type: sequelize__WEBPACK_IMPORTED_MODULE_0__.DataTypes.JSONB,\n        defaultValue: {\n            sender: {\n                name: \"\",\n                address: \"\",\n                city: \"\",\n                postalCode: \"\",\n                country: \"\"\n            },\n            logoUrl: \"\"\n        }\n    }\n}, {\n    timestamps: true,\n    hooks: {\n        beforeCreate: async (user)=>{\n            if (user.password) {\n                const salt = await bcryptjs__WEBPACK_IMPORTED_MODULE_1___default().genSalt(10);\n                const hashedPassword = await bcryptjs__WEBPACK_IMPORTED_MODULE_1___default().hash(user.password, salt);\n                user.password = hashedPassword;\n            }\n        },\n        beforeUpdate: async (user)=>{\n            if (user.changed(\"password\") && user.password) {\n                const salt = await bcryptjs__WEBPACK_IMPORTED_MODULE_1___default().genSalt(10);\n                const hashedPassword = await bcryptjs__WEBPACK_IMPORTED_MODULE_1___default().hash(user.password, salt);\n                user.password = hashedPassword;\n            }\n        }\n    }\n});\n// Instance method to compare password\nUser.prototype.comparePassword = async function(candidatePassword) {\n    // If user has no password (e.g., Google auth user), return false\n    if (!this.password) {\n        return false;\n    }\n    return await bcryptjs__WEBPACK_IMPORTED_MODULE_1___default().compare(candidatePassword, this.password);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (User);\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvZGIvbW9kZWxzL1VzZXIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBdUQ7QUFDekI7QUFDSTtBQWlDbEMsTUFBTUcsT0FBT0QsMENBQVNBLENBQUNFLE1BQU0sQ0FDM0IsUUFDQTtJQUNFQyxJQUFJO1FBQ0ZDLE1BQU1OLGdEQUFTQSxDQUFDTyxJQUFJO1FBQ3BCQyxjQUFjUixnREFBU0EsQ0FBQ1MsTUFBTTtRQUM5QkMsWUFBWTtJQUNkO0lBQ0FDLE9BQU87UUFDTEwsTUFBTU4sZ0RBQVNBLENBQUNZLE1BQU07UUFDdEJDLFdBQVc7UUFDWEMsUUFBUTtRQUNSQyxVQUFVO1lBQ1JDLFNBQVM7UUFDWDtJQUNGO0lBQ0FDLFVBQVU7UUFDUlgsTUFBTU4sZ0RBQVNBLENBQUNZLE1BQU07UUFDdEJDLFdBQVc7SUFDYjtJQUNBSyxlQUFlO1FBQ2JaLE1BQU1OLGdEQUFTQSxDQUFDbUIsT0FBTztRQUN2QlgsY0FBYztJQUNoQjtJQUNBWSxNQUFNO1FBQ0pkLE1BQU1OLGdEQUFTQSxDQUFDWSxNQUFNO1FBQ3RCQyxXQUFXO0lBQ2I7SUFDQVEsT0FBTztRQUNMZixNQUFNTixnREFBU0EsQ0FBQ1ksTUFBTTtRQUN0QkMsV0FBVztJQUNiO0lBQ0FTLFVBQVU7UUFDUmhCLE1BQU1OLGdEQUFTQSxDQUFDWSxNQUFNO1FBQ3RCQyxXQUFXO1FBQ1hDLFFBQVE7SUFDVjtJQUNBUyxVQUFVO1FBQ1JqQixNQUFNTixnREFBU0EsQ0FBQ3dCLEtBQUs7UUFDckJoQixjQUFjO1lBQ1ppQixRQUFRO2dCQUNOTCxNQUFNO2dCQUNOTSxTQUFTO2dCQUNUQyxNQUFNO2dCQUNOQyxZQUFZO2dCQUNaQyxTQUFTO1lBQ1g7WUFDQUMsU0FBUztRQUNYO0lBQ0Y7QUFDRixHQUNBO0lBQ0VDLFlBQVk7SUFDWkMsT0FBTztRQUNMQyxjQUFjLE9BQU9DO1lBQ25CLElBQUlBLEtBQUtqQixRQUFRLEVBQUU7Z0JBQ2pCLE1BQU1rQixPQUFPLE1BQU1sQyx1REFBYyxDQUFDO2dCQUNsQyxNQUFNb0MsaUJBQXlCLE1BQU1wQyxvREFBVyxDQUFDaUMsS0FBS2pCLFFBQVEsRUFBRWtCO2dCQUNoRUQsS0FBS2pCLFFBQVEsR0FBR29CO1lBQ2xCO1FBQ0Y7UUFDQUUsY0FBYyxPQUFPTDtZQUNuQixJQUFJQSxLQUFLTSxPQUFPLENBQUMsZUFBZU4sS0FBS2pCLFFBQVEsRUFBRTtnQkFDN0MsTUFBTWtCLE9BQU8sTUFBTWxDLHVEQUFjLENBQUM7Z0JBQ2xDLE1BQU1vQyxpQkFBeUIsTUFBTXBDLG9EQUFXLENBQUNpQyxLQUFLakIsUUFBUSxFQUFFa0I7Z0JBQ2hFRCxLQUFLakIsUUFBUSxHQUFHb0I7WUFDbEI7UUFDRjtJQUNGO0FBQ0Y7QUFHRixzQ0FBc0M7QUFDdENsQyxLQUFLc0MsU0FBUyxDQUFDQyxlQUFlLEdBQUcsZUFBZUMsaUJBQXlCO0lBQ3ZFLGlFQUFpRTtJQUNqRSxJQUFJLENBQUMsSUFBSSxDQUFDMUIsUUFBUSxFQUFFO1FBQ2xCLE9BQU87SUFDVDtJQUNBLE9BQU8sTUFBTWhCLHVEQUFjLENBQUMwQyxtQkFBbUIsSUFBSSxDQUFDMUIsUUFBUTtBQUM5RDtBQUVBLGlFQUFlZCxJQUFJQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaW52b2ljZWdlbi8uL2xpYi9kYi9tb2RlbHMvVXNlci50cz82MTZlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERhdGFUeXBlcywgTW9kZWwsIE9wdGlvbmFsIH0gZnJvbSAnc2VxdWVsaXplJztcbmltcG9ydCBiY3J5cHQgZnJvbSAnYmNyeXB0anMnO1xuaW1wb3J0IHsgc2VxdWVsaXplIH0gZnJvbSAnLi4vZGInO1xuXG4vLyBEZWZpbmUgVXNlciBhdHRyaWJ1dGVzXG5pbnRlcmZhY2UgVXNlckF0dHJpYnV0ZXMge1xuICBpZDogc3RyaW5nO1xuICBlbWFpbDogc3RyaW5nO1xuICBwYXNzd29yZD86IHN0cmluZztcbiAgZW1haWxWZXJpZmllZDogYm9vbGVhbjtcbiAgbmFtZT86IHN0cmluZztcbiAgaW1hZ2U/OiBzdHJpbmc7XG4gIGdvb2dsZUlkPzogc3RyaW5nO1xuICBzZXR0aW5nczoge1xuICAgIHNlbmRlcj86IHtcbiAgICAgIG5hbWU6IHN0cmluZztcbiAgICAgIGFkZHJlc3M6IHN0cmluZztcbiAgICAgIGNpdHk6IHN0cmluZztcbiAgICAgIHBvc3RhbENvZGU6IHN0cmluZztcbiAgICAgIGNvdW50cnk6IHN0cmluZztcbiAgICB9O1xuICAgIGxvZ29Vcmw/OiBzdHJpbmc7XG4gIH07XG4gIGNyZWF0ZWRBdD86IERhdGU7XG4gIHVwZGF0ZWRBdD86IERhdGU7XG59XG5cbi8vIERlZmluZSBvcHRpb25hbCBhdHRyaWJ1dGVzIGZvciBVc2VyIGNyZWF0aW9uXG5pbnRlcmZhY2UgVXNlckNyZWF0aW9uQXR0cmlidXRlcyBleHRlbmRzIE9wdGlvbmFsPFVzZXJBdHRyaWJ1dGVzLCAnaWQnIHwgJ2VtYWlsVmVyaWZpZWQnIHwgJ3NldHRpbmdzJz4ge31cblxuLy8gRGVmaW5lIFVzZXIgbW9kZWwgd2l0aCBpbnN0YW5jZSBtZXRob2RzXG5pbnRlcmZhY2UgVXNlckluc3RhbmNlIGV4dGVuZHMgTW9kZWw8VXNlckF0dHJpYnV0ZXMsIFVzZXJDcmVhdGlvbkF0dHJpYnV0ZXM+LCBVc2VyQXR0cmlidXRlcyB7XG4gIGNvbXBhcmVQYXNzd29yZChjYW5kaWRhdGVQYXNzd29yZDogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPjtcbn1cblxuY29uc3QgVXNlciA9IHNlcXVlbGl6ZS5kZWZpbmU8VXNlckluc3RhbmNlPihcbiAgJ1VzZXInLFxuICB7XG4gICAgaWQ6IHtcbiAgICAgIHR5cGU6IERhdGFUeXBlcy5VVUlELFxuICAgICAgZGVmYXVsdFZhbHVlOiBEYXRhVHlwZXMuVVVJRFY0LFxuICAgICAgcHJpbWFyeUtleTogdHJ1ZVxuICAgIH0sXG4gICAgZW1haWw6IHtcbiAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgdW5pcXVlOiB0cnVlLFxuICAgICAgdmFsaWRhdGU6IHtcbiAgICAgICAgaXNFbWFpbDogdHJ1ZVxuICAgICAgfVxuICAgIH0sXG4gICAgcGFzc3dvcmQ6IHtcbiAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgICBhbGxvd051bGw6IHRydWVcbiAgICB9LFxuICAgIGVtYWlsVmVyaWZpZWQ6IHtcbiAgICAgIHR5cGU6IERhdGFUeXBlcy5CT09MRUFOLFxuICAgICAgZGVmYXVsdFZhbHVlOiBmYWxzZVxuICAgIH0sXG4gICAgbmFtZToge1xuICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyxcbiAgICAgIGFsbG93TnVsbDogdHJ1ZVxuICAgIH0sXG4gICAgaW1hZ2U6IHtcbiAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgICBhbGxvd051bGw6IHRydWVcbiAgICB9LFxuICAgIGdvb2dsZUlkOiB7XG4gICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgICAgYWxsb3dOdWxsOiB0cnVlLFxuICAgICAgdW5pcXVlOiB0cnVlXG4gICAgfSxcbiAgICBzZXR0aW5nczoge1xuICAgICAgdHlwZTogRGF0YVR5cGVzLkpTT05CLFxuICAgICAgZGVmYXVsdFZhbHVlOiB7XG4gICAgICAgIHNlbmRlcjoge1xuICAgICAgICAgIG5hbWU6ICcnLFxuICAgICAgICAgIGFkZHJlc3M6ICcnLFxuICAgICAgICAgIGNpdHk6ICcnLFxuICAgICAgICAgIHBvc3RhbENvZGU6ICcnLFxuICAgICAgICAgIGNvdW50cnk6ICcnXG4gICAgICAgIH0sXG4gICAgICAgIGxvZ29Vcmw6ICcnXG4gICAgICB9XG4gICAgfVxuICB9LFxuICB7XG4gICAgdGltZXN0YW1wczogdHJ1ZSxcbiAgICBob29rczoge1xuICAgICAgYmVmb3JlQ3JlYXRlOiBhc3luYyAodXNlcjogVXNlckluc3RhbmNlKSA9PiB7XG4gICAgICAgIGlmICh1c2VyLnBhc3N3b3JkKSB7XG4gICAgICAgICAgY29uc3Qgc2FsdCA9IGF3YWl0IGJjcnlwdC5nZW5TYWx0KDEwKTtcbiAgICAgICAgICBjb25zdCBoYXNoZWRQYXNzd29yZDogc3RyaW5nID0gYXdhaXQgYmNyeXB0Lmhhc2godXNlci5wYXNzd29yZCwgc2FsdCk7XG4gICAgICAgICAgdXNlci5wYXNzd29yZCA9IGhhc2hlZFBhc3N3b3JkO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgYmVmb3JlVXBkYXRlOiBhc3luYyAodXNlcjogVXNlckluc3RhbmNlKSA9PiB7XG4gICAgICAgIGlmICh1c2VyLmNoYW5nZWQoJ3Bhc3N3b3JkJykgJiYgdXNlci5wYXNzd29yZCkge1xuICAgICAgICAgIGNvbnN0IHNhbHQgPSBhd2FpdCBiY3J5cHQuZ2VuU2FsdCgxMCk7XG4gICAgICAgICAgY29uc3QgaGFzaGVkUGFzc3dvcmQ6IHN0cmluZyA9IGF3YWl0IGJjcnlwdC5oYXNoKHVzZXIucGFzc3dvcmQsIHNhbHQpO1xuICAgICAgICAgIHVzZXIucGFzc3dvcmQgPSBoYXNoZWRQYXNzd29yZDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuKTtcblxuLy8gSW5zdGFuY2UgbWV0aG9kIHRvIGNvbXBhcmUgcGFzc3dvcmRcblVzZXIucHJvdG90eXBlLmNvbXBhcmVQYXNzd29yZCA9IGFzeW5jIGZ1bmN0aW9uKGNhbmRpZGF0ZVBhc3N3b3JkOiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgLy8gSWYgdXNlciBoYXMgbm8gcGFzc3dvcmQgKGUuZy4sIEdvb2dsZSBhdXRoIHVzZXIpLCByZXR1cm4gZmFsc2VcbiAgaWYgKCF0aGlzLnBhc3N3b3JkKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiBhd2FpdCBiY3J5cHQuY29tcGFyZShjYW5kaWRhdGVQYXNzd29yZCwgdGhpcy5wYXNzd29yZCk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBVc2VyOyJdLCJuYW1lcyI6WyJEYXRhVHlwZXMiLCJiY3J5cHQiLCJzZXF1ZWxpemUiLCJVc2VyIiwiZGVmaW5lIiwiaWQiLCJ0eXBlIiwiVVVJRCIsImRlZmF1bHRWYWx1ZSIsIlVVSURWNCIsInByaW1hcnlLZXkiLCJlbWFpbCIsIlNUUklORyIsImFsbG93TnVsbCIsInVuaXF1ZSIsInZhbGlkYXRlIiwiaXNFbWFpbCIsInBhc3N3b3JkIiwiZW1haWxWZXJpZmllZCIsIkJPT0xFQU4iLCJuYW1lIiwiaW1hZ2UiLCJnb29nbGVJZCIsInNldHRpbmdzIiwiSlNPTkIiLCJzZW5kZXIiLCJhZGRyZXNzIiwiY2l0eSIsInBvc3RhbENvZGUiLCJjb3VudHJ5IiwibG9nb1VybCIsInRpbWVzdGFtcHMiLCJob29rcyIsImJlZm9yZUNyZWF0ZSIsInVzZXIiLCJzYWx0IiwiZ2VuU2FsdCIsImhhc2hlZFBhc3N3b3JkIiwiaGFzaCIsImJlZm9yZVVwZGF0ZSIsImNoYW5nZWQiLCJwcm90b3R5cGUiLCJjb21wYXJlUGFzc3dvcmQiLCJjYW5kaWRhdGVQYXNzd29yZCIsImNvbXBhcmUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./lib/db/models/User.ts\n");

/***/ }),

/***/ "(api)/./lib/db/models/index.ts":
/*!********************************!*\
  !*** ./lib/db/models/index.ts ***!
  \********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Invoice: () => (/* reexport safe */ _Invoice__WEBPACK_IMPORTED_MODULE_1__[\"default\"]),\n/* harmony export */   User: () => (/* reexport safe */ _User__WEBPACK_IMPORTED_MODULE_0__[\"default\"])\n/* harmony export */ });\n/* harmony import */ var _User__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./User */ \"(api)/./lib/db/models/User.ts\");\n/* harmony import */ var _Invoice__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Invoice */ \"(api)/./lib/db/models/Invoice.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_User__WEBPACK_IMPORTED_MODULE_0__, _Invoice__WEBPACK_IMPORTED_MODULE_1__]);\n([_User__WEBPACK_IMPORTED_MODULE_0__, _Invoice__WEBPACK_IMPORTED_MODULE_1__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvZGIvbW9kZWxzL2luZGV4LnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBMEI7QUFDTTtBQUs5QiIsInNvdXJjZXMiOlsid2VicGFjazovL2ludm9pY2VnZW4vLi9saWIvZGIvbW9kZWxzL2luZGV4LnRzPzY3NTciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFVzZXIgZnJvbSAnLi9Vc2VyJztcbmltcG9ydCBJbnZvaWNlIGZyb20gJy4vSW52b2ljZSc7XG5cbmV4cG9ydCB7XG4gIFVzZXIsXG4gIEludm9pY2Vcbn07Il0sIm5hbWVzIjpbIlVzZXIiLCJJbnZvaWNlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./lib/db/models/index.ts\n");

/***/ }),

/***/ "(api)/./pages/api/auth/[...nextauth].ts":
/*!*****************************************!*\
  !*** ./pages/api/auth/[...nextauth].ts ***!
  \*****************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ auth)\n/* harmony export */ });\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth */ \"next-auth\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_auth__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_auth_providers_google__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-auth/providers/google */ \"next-auth/providers/google\");\n/* harmony import */ var next_auth_providers_google__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_auth_providers_google__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _auth_sequelize_adapter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @auth/sequelize-adapter */ \"@auth/sequelize-adapter\");\n/* harmony import */ var _lib_db_db__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../lib/db/db */ \"(api)/./lib/db/db.ts\");\n/* harmony import */ var _lib_db_models__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../lib/db/models */ \"(api)/./lib/db/models/index.ts\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_5__);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_auth_sequelize_adapter__WEBPACK_IMPORTED_MODULE_2__, _lib_db_db__WEBPACK_IMPORTED_MODULE_3__, _lib_db_models__WEBPACK_IMPORTED_MODULE_4__]);\n([_auth_sequelize_adapter__WEBPACK_IMPORTED_MODULE_2__, _lib_db_db__WEBPACK_IMPORTED_MODULE_3__, _lib_db_models__WEBPACK_IMPORTED_MODULE_4__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n\n\n// Validate environment variables\nconst validateEnvVars = ()=>{\n    const requiredVars = [\n        \"GOOGLE_CLIENT_ID\",\n        \"GOOGLE_CLIENT_SECRET\",\n        \"JWT_SECRET\",\n        \"NEXTAUTH_SECRET\"\n    ];\n    const missingVars = requiredVars.filter((varName)=>!process.env[varName]);\n    if (missingVars.length > 0) {\n        console.error(`Missing required environment variables: ${missingVars.join(\", \")}`);\n        if (false) {}\n    }\n    // Warn about using default JWT secret in production\n    if (false) {}\n};\n// Track database initialization state\nlet dbInitialized = false;\nlet dbInitializationPromise = null;\n// Initialize database and adapter\nconst initializeAuth = async ()=>{\n    // Only initialize once\n    if (dbInitializationPromise) {\n        return dbInitializationPromise;\n    }\n    // Validate environment variables first\n    validateEnvVars();\n    // Initialize database with a promise we can track\n    dbInitializationPromise = (0,_lib_db_db__WEBPACK_IMPORTED_MODULE_3__.initDb)().then((success)=>{\n        dbInitialized = success;\n        if (!success) {\n            console.error(\"Failed to initialize database for NextAuth\");\n        } else {\n            console.log(\"Database initialized successfully for NextAuth\");\n        }\n        return success;\n    }).catch((error)=>{\n        console.error(\"Error initializing database for NextAuth:\", error);\n        return false;\n    });\n    return dbInitializationPromise;\n};\n// Create auth options function that ensures DB is initialized\nconst getAuthOptions = async ()=>{\n    // Wait for database initialization\n    await initializeAuth();\n    // Only initialize adapter after DB is ready\n    const adapter = (0,_auth_sequelize_adapter__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(_lib_db_db__WEBPACK_IMPORTED_MODULE_3__.sequelize);\n    return {\n        providers: [\n            next_auth_providers_google__WEBPACK_IMPORTED_MODULE_1___default()({\n                clientId: process.env.GOOGLE_CLIENT_ID || \"\",\n                clientSecret: process.env.GOOGLE_CLIENT_SECRET || \"\"\n            })\n        ],\n        adapter: adapter,\n        session: {\n            strategy: \"jwt\",\n            maxAge: 30 * 24 * 60 * 60\n        },\n        pages: {\n            signIn: \"/login\",\n            signOut: \"/login\",\n            error: \"/login\"\n        },\n        callbacks: {\n            async signIn ({ user, account, profile }) {\n                try {\n                    // Only allow Google sign-in\n                    if (account?.provider !== \"google\") {\n                        return false;\n                    }\n                    // Check if database is initialized\n                    if (!dbInitialized) {\n                        console.error(\"Database not initialized during sign-in attempt\");\n                        return false;\n                    }\n                    // Check if user exists in our database\n                    if (user.email) {\n                        try {\n                            const existingUser = await _lib_db_models__WEBPACK_IMPORTED_MODULE_4__.User.findOne({\n                                where: {\n                                    email: user.email\n                                }\n                            });\n                            if (existingUser) {\n                                // Update user with Google info if not already set\n                                if (!existingUser.googleId && profile) {\n                                    await existingUser.update({\n                                        googleId: profile.sub,\n                                        name: user.name || undefined,\n                                        image: user.image || undefined,\n                                        emailVerified: true\n                                    });\n                                }\n                            } else {\n                                // Create new user\n                                await _lib_db_models__WEBPACK_IMPORTED_MODULE_4__.User.create({\n                                    email: user.email,\n                                    name: user.name || undefined,\n                                    image: user.image || undefined,\n                                    googleId: profile ? profile.sub : undefined,\n                                    emailVerified: true\n                                });\n                            }\n                        } catch (dbError) {\n                            console.error(\"Database error during sign-in:\", dbError);\n                            return false;\n                        }\n                    }\n                    return true;\n                } catch (error) {\n                    console.error(\"Error in signIn callback:\", error);\n                    return false;\n                }\n            },\n            async jwt ({ token, user }) {\n                try {\n                    // Add custom claims to the JWT token\n                    if (user) {\n                        token.userId = user.id;\n                        // Get JWT secret with validation\n                        const jwtSecret = process.env.JWT_SECRET;\n                        if (!jwtSecret) {\n                            console.error(\"JWT_SECRET is not defined\");\n                            throw new Error(\"JWT_SECRET is not defined\");\n                        }\n                        // Create a JWT token compatible with our existing auth system\n                        const customToken = jsonwebtoken__WEBPACK_IMPORTED_MODULE_5___default().sign({\n                            id: user.id\n                        }, jwtSecret, {\n                            expiresIn: \"7d\"\n                        });\n                        token.customToken = customToken;\n                    }\n                    return token;\n                } catch (error) {\n                    console.error(\"Error in jwt callback:\", error);\n                    return token;\n                }\n            },\n            async session ({ session, token }) {\n                try {\n                    // Add user ID to the session\n                    if (session.user && token.userId) {\n                        session.user.id = token.userId;\n                        // Add custom token to the session\n                        if (token.customToken) {\n                            session.customToken = token.customToken;\n                        }\n                    }\n                    return session;\n                } catch (error) {\n                    console.error(\"Error in session callback:\", error);\n                    return session;\n                }\n            }\n        },\n        debug: \"development\" === \"development\"\n    };\n};\n// Export a dynamic API handler that ensures DB is initialized\nasync function auth(req, res) {\n    const authOptions = await getAuthOptions();\n    return await next_auth__WEBPACK_IMPORTED_MODULE_0___default()(req, res, authOptions);\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvYXV0aC9bLi4ubmV4dGF1dGhdLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBc0Q7QUFHRTtBQUNEO0FBQ0E7QUFDVDtBQUNmO0FBdUIvQixpQ0FBaUM7QUFDakMsTUFBTU8sa0JBQWtCO0lBQ3RCLE1BQU1DLGVBQWU7UUFDbkI7UUFDQTtRQUNBO1FBQ0E7S0FDRDtJQUVELE1BQU1DLGNBQWNELGFBQWFFLE1BQU0sQ0FBQ0MsQ0FBQUEsVUFBVyxDQUFDQyxRQUFRQyxHQUFHLENBQUNGLFFBQVE7SUFFeEUsSUFBSUYsWUFBWUssTUFBTSxHQUFHLEdBQUc7UUFDMUJDLFFBQVFDLEtBQUssQ0FBQyxDQUFDLHdDQUF3QyxFQUFFUCxZQUFZUSxJQUFJLENBQUMsTUFBTSxDQUFDO1FBQ2pGLElBQUlMLEtBQXlCLEVBQWMsRUFFMUM7SUFDSDtJQUVBLG9EQUFvRDtJQUNwRCxJQUFJQSxLQUMyQixFQUFpRCxFQUUvRTtBQUNIO0FBRUEsc0NBQXNDO0FBQ3RDLElBQUlRLGdCQUFnQjtBQUNwQixJQUFJQywwQkFBbUQ7QUFFdkQsa0NBQWtDO0FBQ2xDLE1BQU1DLGlCQUFpQjtJQUNyQix1QkFBdUI7SUFDdkIsSUFBSUQseUJBQXlCO1FBQzNCLE9BQU9BO0lBQ1Q7SUFFQSx1Q0FBdUM7SUFDdkNkO0lBRUEsa0RBQWtEO0lBQ2xEYywwQkFBMEJqQixrREFBTUEsR0FBR21CLElBQUksQ0FBQ0MsQ0FBQUE7UUFDdENKLGdCQUFnQkk7UUFDaEIsSUFBSSxDQUFDQSxTQUFTO1lBQ1pULFFBQVFDLEtBQUssQ0FBQztRQUNoQixPQUFPO1lBQ0xELFFBQVFVLEdBQUcsQ0FBQztRQUNkO1FBQ0EsT0FBT0Q7SUFDVCxHQUFHRSxLQUFLLENBQUNWLENBQUFBO1FBQ1BELFFBQVFDLEtBQUssQ0FBQyw2Q0FBNkNBO1FBQzNELE9BQU87SUFDVDtJQUVBLE9BQU9LO0FBQ1Q7QUFFQSw4REFBOEQ7QUFDOUQsTUFBTU0saUJBQWlCO0lBQ3JCLG1DQUFt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QU8sRUFBRXdCLEtBQUssRUFBRTtnQkFDOUIsSUFBSTtvQkFDRiw2QkFBNkI7b0JBQzdCLElBQUl4QixRQUFRTyxJQUFJLElBQUlpQixNQUFNQyxNQUFNLEVBQUU7d0JBQ2hDekIsUUFBUU8sSUFBSSxDQUFDbUIsRUFBRSxHQUFHRixNQUFNQyxNQUFNO3dCQUU5QixrQ0FBa0M7d0JBQ2xDLElBQUlELE1BQU1JLFdBQVcsRUFBRTs0QkFDckI1QixRQUFRNEIsV0FBVyxHQUFHSixNQUFNSSxXQUFXO3dCQUN6QztvQkFDRjtvQkFFQSxPQUFPNUI7Z0JBQ1QsRUFBRSxPQUFPbEIsT0FBTztvQkFDZEQsUUFBUUMsS0FBSyxDQUFDLDhCQUE4QkE7b0JBQzVDLE9BQU9rQjtnQkFDVDtZQUNGO1FBQ0Y7UUFDQStCLE9BQU9yRCxrQkFBeUI7SUFDbEM7QUFDRjtBQUVBLDhEQUE4RDtBQUMvQyxlQUFlc0QsS0FBS0MsR0FBUSxFQUFFQyxHQUFRO0lBQ25ELE1BQU1DLGNBQWMsTUFBTTFDO0lBQzFCLE9BQU8sTUFBTTNCLGdEQUFRQSxDQUFDbUUsS0FBS0MsS0FBS0M7QUFDbEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbnZvaWNlZ2VuLy4vcGFnZXMvYXBpL2F1dGgvWy4uLm5leHRhdXRoXS50cz8yZThiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBOZXh0QXV0aCwgeyBOZXh0QXV0aE9wdGlvbnMgfSBmcm9tICduZXh0LWF1dGgnO1xuaW1wb3J0IHsgSldUIH0gZnJvbSAnbmV4dC1hdXRoL2p3dCc7XG5pbXBvcnQgeyBTZXNzaW9uIH0gZnJvbSAnbmV4dC1hdXRoJztcbmltcG9ydCBHb29nbGVQcm92aWRlciBmcm9tICduZXh0LWF1dGgvcHJvdmlkZXJzL2dvb2dsZSc7XG5pbXBvcnQgU2VxdWVsaXplQWRhcHRlciBmcm9tICdAYXV0aC9zZXF1ZWxpemUtYWRhcHRlcic7XG5pbXBvcnQgeyBzZXF1ZWxpemUsIGluaXREYiB9IGZyb20gJy4uLy4uLy4uL2xpYi9kYi9kYic7XG5pbXBvcnQgeyBVc2VyIH0gZnJvbSAnLi4vLi4vLi4vbGliL2RiL21vZGVscyc7XG5pbXBvcnQgand0IGZyb20gJ2pzb253ZWJ0b2tlbic7XG5cbi8vIEV4dGVuZCB0aGUgU2Vzc2lvbiB0eXBlIHRvIGluY2x1ZGUgb3VyIGN1c3RvbSBwcm9wZXJ0aWVzXG5kZWNsYXJlIG1vZHVsZSAnbmV4dC1hdXRoJyB7XG4gIGludGVyZmFjZSBTZXNzaW9uIHtcbiAgICB1c2VyOiB7XG4gICAgICBpZDogc3RyaW5nO1xuICAgICAgbmFtZT86IHN0cmluZyB8IG51bGw7XG4gICAgICBlbWFpbD86IHN0cmluZyB8IG51bGw7XG4gICAgICBpbWFnZT86IHN0cmluZyB8IG51bGw7XG4gICAgfTtcbiAgICBjdXN0b21Ub2tlbj86IHN0cmluZztcbiAgfVxufVxuXG4vLyBFeHRlbmQgdGhlIEpXVCB0eXBlIHRvIGluY2x1ZGUgb3VyIGN1c3RvbSBwcm9wZXJ0aWVzXG5kZWNsYXJlIG1vZHVsZSAnbmV4dC1hdXRoL2p3dCcge1xuICBpbnRlcmZhY2UgSldUIHtcbiAgICB1c2VySWQ/OiBzdHJpbmc7XG4gICAgY3VzdG9tVG9rZW4/OiBzdHJpbmc7XG4gIH1cbn1cblxuLy8gVmFsaWRhdGUgZW52aXJvbm1lbnQgdmFyaWFibGVzXG5jb25zdCB2YWxpZGF0ZUVudlZhcnMgPSAoKSA9PiB7XG4gIGNvbnN0IHJlcXVpcmVkVmFycyA9IFtcbiAgICAnR09PR0xFX0NMSUVOVF9JRCcsXG4gICAgJ0dPT0dMRV9DTElFTlRfU0VDUkVUJyxcbiAgICAnSldUX1NFQ1JFVCcsXG4gICAgJ05FWFRBVVRIX1NFQ1JFVCdcbiAgXTtcbiAgXG4gIGNvbnN0IG1pc3NpbmdWYXJzID0gcmVxdWlyZWRWYXJzLmZpbHRlcih2YXJOYW1lID0+ICFwcm9jZXNzLmVudlt2YXJOYW1lXSk7XG4gIFxuICBpZiAobWlzc2luZ1ZhcnMubGVuZ3RoID4gMCkge1xuICAgIGNvbnNvbGUuZXJyb3IoYE1pc3NpbmcgcmVxdWlyZWQgZW52aXJvbm1lbnQgdmFyaWFibGVzOiAke21pc3NpbmdWYXJzLmpvaW4oJywgJyl9YCk7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgTWlzc2luZyByZXF1aXJlZCBlbnZpcm9ubWVudCB2YXJpYWJsZXM6ICR7bWlzc2luZ1ZhcnMuam9pbignLCAnKX1gKTtcbiAgICB9XG4gIH1cbiAgXG4gIC8vIFdhcm4gYWJvdXQgdXNpbmcgZGVmYXVsdCBKV1Qgc2VjcmV0IGluIHByb2R1Y3Rpb25cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicgJiYgXG4gICAgICBwcm9jZXNzLmVudi5KV1RfU0VDUkVUID09PSAneW91cl9qd3Rfc2VjcmV0X2tleV9jaGFuZ2VfdGhpc19pbl9wcm9kdWN0aW9uJykge1xuICAgIGNvbnNvbGUuZXJyb3IoJ1dBUk5JTkc6IFVzaW5nIGRlZmF1bHQgSldUX1NFQ1JFVCBpbiBwcm9kdWN0aW9uIGVudmlyb25tZW50IScpO1xuICB9XG59O1xuXG4vLyBUcmFjayBkYXRhYmFzZSBpbml0aWFsaXphdGlvbiBzdGF0ZVxubGV0IGRiSW5pdGlhbGl6ZWQgPSBmYWxzZTtcbmxldCBkYkluaXRpYWxpemF0aW9uUHJvbWlzZTogUHJvbWlzZTxib29sZWFuPiB8IG51bGwgPSBudWxsO1xuXG4vLyBJbml0aWFsaXplIGRhdGFiYXNlIGFuZCBhZGFwdGVyXG5jb25zdCBpbml0aWFsaXplQXV0aCA9IGFzeW5jICgpID0+IHtcbiAgLy8gT25seSBpbml0aWFsaXplIG9uY2VcbiAgaWYgKGRiSW5pdGlhbGl6YXRpb25Qcm9taXNlKSB7XG4gICAgcmV0dXJuIGRiSW5pdGlhbGl6YXRpb25Qcm9taXNlO1xuICB9XG5cbiAgLy8gVmFsaWRhdGUgZW52aXJvbm1lbnQgdmFyaWFibGVzIGZpcnN0XG4gIHZhbGlkYXRlRW52VmFycygpO1xuXG4gIC8vIEluaXRpYWxpemUgZGF0YWJhc2Ugd2l0aCBhIHByb21pc2Ugd2UgY2FuIHRyYWNrXG4gIGRiSW5pdGlhbGl6YXRpb25Qcm9taXNlID0gaW5pdERiKCkudGhlbihzdWNjZXNzID0+IHtcbiAgICBkYkluaXRpYWxpemVkID0gc3VjY2VzcztcbiAgICBpZiAoIXN1Y2Nlc3MpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBpbml0aWFsaXplIGRhdGFiYXNlIGZvciBOZXh0QXV0aCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmxvZygnRGF0YWJhc2UgaW5pdGlhbGl6ZWQgc3VjY2Vzc2Z1bGx5IGZvciBOZXh0QXV0aCcpO1xuICAgIH1cbiAgICByZXR1cm4gc3VjY2VzcztcbiAgfSkuY2F0Y2goZXJyb3IgPT4ge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluaXRpYWxpemluZyBkYXRhYmFzZSBmb3IgTmV4dEF1dGg6JywgZXJyb3IpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSk7XG5cbiAgcmV0dXJuIGRiSW5pdGlhbGl6YXRpb25Qcm9taXNlO1xufTtcblxuLy8gQ3JlYXRlIGF1dGggb3B0aW9ucyBmdW5jdGlvbiB0aGF0IGVuc3VyZXMgREIgaXMgaW5pdGlhbGl6ZWRcbmNvbnN0IGdldEF1dGhPcHRpb25zID0gYXN5bmMgKCk6IFByb21pc2U8TmV4dEF1dGhPcHRpb25zPiA9PiB7XG4gIC8vIFdhaXQgZm9yIGRhdGFiYXNlIGluaXRpYWxpemF0aW9uXG4gIGF3YWl0IGluaXRpYWxpemVBdXRoKCk7XG4gIFxuICAvLyBPbmx5IGluaXRpYWxpemUgYWRhcHRlciBhZnRlciBEQiBpcyByZWFkeVxuICBjb25zdCBhZGFwdGVyID0gU2VxdWVsaXplQWRhcHRlcihzZXF1ZWxpemUpO1xuICBcbiAgcmV0dXJuIHtcbiAgICBwcm92aWRlcnM6IFtcbiAgICAgIEdvb2dsZVByb3ZpZGVyKHtcbiAgICAgICAgY2xpZW50SWQ6IHByb2Nlc3MuZW52LkdPT0dMRV9DTElFTlRfSUQgfHwgJycsXG4gICAgICAgIGNsaWVudFNlY3JldDogcHJvY2Vzcy5lbnYuR09PR0xFX0NMSUVOVF9TRUNSRVQgfHwgJycsXG4gICAgICB9KSxcbiAgICBdLFxuICAgIGFkYXB0ZXI6IGFkYXB0ZXIsXG4gICAgc2Vzc2lvbjoge1xuICAgICAgc3RyYXRlZ3k6ICdqd3QnLFxuICAgICAgbWF4QWdlOiAzMCAqIDI0ICogNjAgKiA2MCwgLy8gMzAgZGF5c1xuICAgIH0sXG4gICAgcGFnZXM6IHtcbiAgICAgIHNpZ25JbjogJy9sb2dpbicsXG4gICAgICBzaWduT3V0OiAnL2xvZ2luJyxcbiAgICAgIGVycm9yOiAnL2xvZ2luJyxcbiAgICB9LFxuICAgIGNhbGxiYWNrczoge1xuICAgICAgYXN5bmMgc2lnbkluKHsgdXNlciwgYWNjb3VudCwgcHJvZmlsZSB9KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gT25seSBhbGxvdyBHb29nbGUgc2lnbi1pblxuICAgICAgICAgIGlmIChhY2NvdW50Py5wcm92aWRlciAhPT0gJ2dvb2dsZScpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gQ2hlY2sgaWYgZGF0YWJhc2UgaXMgaW5pdGlhbGl6ZWRcbiAgICAgICAgICBpZiAoIWRiSW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0RhdGFiYXNlIG5vdCBpbml0aWFsaXplZCBkdXJpbmcgc2lnbi1pbiBhdHRlbXB0Jyk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIENoZWNrIGlmIHVzZXIgZXhpc3RzIGluIG91ciBkYXRhYmFzZVxuICAgICAgICAgIGlmICh1c2VyLmVtYWlsKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBjb25zdCBleGlzdGluZ1VzZXIgPSBhd2FpdCBVc2VyLmZpbmRPbmUoeyB3aGVyZTogeyBlbWFpbDogdXNlci5lbWFpbCB9IH0pO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgaWYgKGV4aXN0aW5nVXNlcikge1xuICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSB1c2VyIHdpdGggR29vZ2xlIGluZm8gaWYgbm90IGFscmVhZHkgc2V0XG4gICAgICAgICAgICAgICAgaWYgKCFleGlzdGluZ1VzZXIuZ29vZ2xlSWQgJiYgcHJvZmlsZSkge1xuICAgICAgICAgICAgICAgICAgYXdhaXQgZXhpc3RpbmdVc2VyLnVwZGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgIGdvb2dsZUlkOiBwcm9maWxlLnN1YiBhcyBzdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IHVzZXIubmFtZSB8fCB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgIGltYWdlOiB1c2VyLmltYWdlIHx8IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgZW1haWxWZXJpZmllZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBDcmVhdGUgbmV3IHVzZXJcbiAgICAgICAgICAgICAgICBhd2FpdCBVc2VyLmNyZWF0ZSh7XG4gICAgICAgICAgICAgICAgICBlbWFpbDogdXNlci5lbWFpbCxcbiAgICAgICAgICAgICAgICAgIG5hbWU6IHVzZXIubmFtZSB8fCB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICBpbWFnZTogdXNlci5pbWFnZSB8fCB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICBnb29nbGVJZDogcHJvZmlsZSA/IChwcm9maWxlLnN1YiBhcyBzdHJpbmcpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgZW1haWxWZXJpZmllZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoZGJFcnJvcikge1xuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdEYXRhYmFzZSBlcnJvciBkdXJpbmcgc2lnbi1pbjonLCBkYkVycm9yKTtcbiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbiBzaWduSW4gY2FsbGJhY2s6JywgZXJyb3IpO1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGFzeW5jIGp3dCh7IHRva2VuLCB1c2VyIH0pIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBBZGQgY3VzdG9tIGNsYWltcyB0byB0aGUgSldUIHRva2VuXG4gICAgICAgICAgaWYgKHVzZXIpIHtcbiAgICAgICAgICAgIHRva2VuLnVzZXJJZCA9IHVzZXIuaWQ7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIEdldCBKV1Qgc2VjcmV0IHdpdGggdmFsaWRhdGlvblxuICAgICAgICAgICAgY29uc3Qgand0U2VjcmV0ID0gcHJvY2Vzcy5lbnYuSldUX1NFQ1JFVDtcbiAgICAgICAgICAgIGlmICghand0U2VjcmV0KSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0pXVF9TRUNSRVQgaXMgbm90IGRlZmluZWQnKTtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdKV1RfU0VDUkVUIGlzIG5vdCBkZWZpbmVkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIENyZWF0ZSBhIEpXVCB0b2tlbiBjb21wYXRpYmxlIHdpdGggb3VyIGV4aXN0aW5nIGF1dGggc3lzdGVtXG4gICAgICAgICAgICBjb25zdCBjdXN0b21Ub2tlbiA9IGp3dC5zaWduKFxuICAgICAgICAgICAgICB7IGlkOiB1c2VyLmlkIH0sXG4gICAgICAgICAgICAgIGp3dFNlY3JldCxcbiAgICAgICAgICAgICAgeyBleHBpcmVzSW46ICc3ZCcgfVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdG9rZW4uY3VzdG9tVG9rZW4gPSBjdXN0b21Ub2tlbjtcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgcmV0dXJuIHRva2VuO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluIGp3dCBjYWxsYmFjazonLCBlcnJvcik7XG4gICAgICAgICAgcmV0dXJuIHRva2VuO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgYXN5bmMgc2Vzc2lvbih7IHNlc3Npb24sIHRva2VuIH0pIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBBZGQgdXNlciBJRCB0byB0aGUgc2Vzc2lvblxuICAgICAgICAgIGlmIChzZXNzaW9uLnVzZXIgJiYgdG9rZW4udXNlcklkKSB7XG4gICAgICAgICAgICBzZXNzaW9uLnVzZXIuaWQgPSB0b2tlbi51c2VySWQgYXMgc3RyaW5nO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBBZGQgY3VzdG9tIHRva2VuIHRvIHRoZSBzZXNzaW9uXG4gICAgICAgICAgICBpZiAodG9rZW4uY3VzdG9tVG9rZW4pIHtcbiAgICAgICAgICAgICAgc2Vzc2lvbi5jdXN0b21Ub2tlbiA9IHRva2VuLmN1c3RvbVRva2VuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICByZXR1cm4gc2Vzc2lvbjtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbiBzZXNzaW9uIGNhbGxiYWNrOicsIGVycm9yKTtcbiAgICAgICAgICByZXR1cm4gc2Vzc2lvbjtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICB9LFxuICAgIGRlYnVnOiBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JyxcbiAgfTtcbn07XG5cbi8vIEV4cG9ydCBhIGR5bmFtaWMgQVBJIGhhbmRsZXIgdGhhdCBlbnN1cmVzIERCIGlzIGluaXRpYWxpemVkXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBhdXRoKHJlcTogYW55LCByZXM6IGFueSkge1xuICBjb25zdCBhdXRoT3B0aW9ucyA9IGF3YWl0IGdldEF1dGhPcHRpb25zKCk7XG4gIHJldHVybiBhd2FpdCBOZXh0QXV0aChyZXEsIHJlcywgYXV0aE9wdGlvbnMpO1xufSJdLCJuYW1lcyI6WyJOZXh0QXV0aCIsIkdvb2dsZVByb3ZpZGVyIiwiU2VxdWVsaXplQWRhcHRlciIsInNlcXVlbGl6ZSIsImluaXREYiIsIlVzZXIiLCJqd3QiLCJ2YWxpZGF0ZUVudlZhcnMiLCJyZXF1aXJlZFZhcnMiLCJtaXNzaW5nVmFycyIsImZpbHRlciIsInZhck5hbWUiLCJwcm9jZXNzIiwiZW52IiwibGVuZ3RoIiwiY29uc29sZSIsImVycm9yIiwiam9pbiIsIkVycm9yIiwiSldUX1NFQ1JFVCIsImRiSW5pdGlhbGl6ZWQiLCJkYkluaXRpYWxpemF0aW9uUHJvbWlzZSIsImluaXRpYWxpemVBdXRoIiwidGhlbiIsInN1Y2Nlc3MiLCJsb2ciLCJjYXRjaCIsImdldEF1dGhPcHRpb25zIiwiYWRhcHRlciIsInByb3ZpZGVycyIsImNsaWVudElkIiwiR09PR0xFX0NMSUVOVF9JRCIsImNsaWVudFNlY3JldCIsIkdPT0dMRV9DTElFTlRfU0VDUkVUIiwic2Vzc2lvbiIsInN0cmF0ZWd5IiwibWF4QWdlIiwicGFnZXMiLCJzaWduSW4iLCJzaWduT3V0IiwiY2FsbGJhY2tzIiwidXNlciIsImFjY291bnQiLCJwcm9maWxlIiwicHJvdmlkZXIiLCJlbWFpbCIsImV4aXN0aW5nVXNlciIsImZpbmRPbmUiLCJ3aGVyZSIsImdvb2dsZUlkIiwidXBkYXRlIiwic3ViIiwibmFtZSIsInVuZGVmaW5lZCIsImltYWdlIiwiZW1haWxWZXJpZmllZCIsImNyZWF0ZSIsImRiRXJyb3IiLCJ0b2tlbiIsInVzZXJJZCIsImlkIiwiand0U2VjcmV0IiwiY3VzdG9tVG9rZW4iLCJzaWduIiwiZXhwaXJlc0luIiwiZGVidWciLCJhdXRoIiwicmVxIiwicmVzIiwiYXV0aE9wdGlvbnMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./pages/api/auth/[...nextauth].ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fauth%2F%5B...nextauth%5D&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fauth%2F%5B...nextauth%5D.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();