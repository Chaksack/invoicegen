"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/auth/register";
exports.ids = ["pages/api/auth/register"];
exports.modules = {

/***/ "bcryptjs":
/*!***************************!*\
  !*** external "bcryptjs" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("bcryptjs");

/***/ }),

/***/ "jsonwebtoken":
/*!*******************************!*\
  !*** external "jsonwebtoken" ***!
  \*******************************/
/***/ ((module) => {

module.exports = require("jsonwebtoken");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "sequelize":
/*!****************************!*\
  !*** external "sequelize" ***!
  \****************************/
/***/ ((module) => {

module.exports = import("sequelize");;

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fauth%2Fregister&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fauth%2Fregister.ts&middlewareConfigBase64=e30%3D!":
/*!************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fauth%2Fregister&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fauth%2Fregister.ts&middlewareConfigBase64=e30%3D! ***!
  \************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_auth_register_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages/api/auth/register.ts */ \"(api)/./pages/api/auth/register.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_pages_api_auth_register_ts__WEBPACK_IMPORTED_MODULE_3__]);\n_pages_api_auth_register_ts__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_auth_register_ts__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_auth_register_ts__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/auth/register\",\n        pathname: \"/api/auth/register\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_auth_register_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmF1dGglMkZyZWdpc3RlciZwcmVmZXJyZWRSZWdpb249JmFic29sdXRlUGFnZVBhdGg9LiUyRnBhZ2VzJTJGYXBpJTJGYXV0aCUyRnJlZ2lzdGVyLnRzJm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNMO0FBQzFEO0FBQ3lEO0FBQ3pEO0FBQ0EsaUVBQWUsd0VBQUssQ0FBQyx3REFBUSxZQUFZLEVBQUM7QUFDMUM7QUFDTyxlQUFlLHdFQUFLLENBQUMsd0RBQVE7QUFDcEM7QUFDTyx3QkFBd0IsZ0hBQW1CO0FBQ2xEO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVk7QUFDWixDQUFDOztBQUVELHFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaW52b2ljZWdlbi8/N2NmZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc0FQSVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvcGFnZXMtYXBpL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSB1c2VybGFuZCBjb2RlLlxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi4vcGFnZXMvYXBpL2F1dGgvcmVnaXN0ZXIudHNcIjtcbi8vIFJlLWV4cG9ydCB0aGUgaGFuZGxlciAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgXCJkZWZhdWx0XCIpO1xuLy8gUmUtZXhwb3J0IGNvbmZpZy5cbmV4cG9ydCBjb25zdCBjb25maWcgPSBob2lzdCh1c2VybGFuZCwgXCJjb25maWdcIik7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBQYWdlc0FQSVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5QQUdFU19BUEksXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9hdXRoL3JlZ2lzdGVyXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvYXV0aC9yZWdpc3RlclwiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcIlwiXG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLWFwaS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fauth%2Fregister&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fauth%2Fregister.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./lib/api-utils.ts":
/*!**************************!*\
  !*** ./lib/api-utils.ts ***!
  \**************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   authenticate: () => (/* binding */ authenticate),\n/* harmony export */   handleError: () => (/* binding */ handleError),\n/* harmony export */   handleSuccess: () => (/* binding */ handleSuccess),\n/* harmony export */   requireVerifiedEmail: () => (/* binding */ requireVerifiedEmail)\n/* harmony export */ });\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _db_models__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./db/models */ \"(api)/./lib/db/models/index.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_db_models__WEBPACK_IMPORTED_MODULE_1__]);\n_db_models__WEBPACK_IMPORTED_MODULE_1__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n// Error handler function\nconst handleError = (res, error, statusCode = 500)=>{\n    console.error(\"API Error:\", error);\n    return res.status(statusCode).json({\n        success: false,\n        message: error.message || \"Server error\",\n        error:  true ? error : 0\n    });\n};\n// Success response function\nconst handleSuccess = (res, data, message = \"Success\", statusCode = 200)=>{\n    return res.status(statusCode).json({\n        success: true,\n        message,\n        data\n    });\n};\n// Authentication middleware\nconst authenticate = async (req, res)=>{\n    try {\n        // Get token from header\n        const authHeader = req.headers.authorization;\n        if (!authHeader || !authHeader.startsWith(\"Bearer \")) {\n            return res.status(401).json({\n                success: false,\n                message: \"No token provided\"\n            });\n        }\n        const token = authHeader.split(\" \")[1];\n        // Verify token\n        const decoded = jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default().verify(token, process.env.JWT_SECRET || \"your_jwt_secret_key_change_this_in_production\");\n        // Get user from database\n        const user = await _db_models__WEBPACK_IMPORTED_MODULE_1__.User.findByPk(decoded.id);\n        if (!user) {\n            return res.status(401).json({\n                success: false,\n                message: \"User not found\"\n            });\n        }\n        // Add user to request object\n        req.user = user;\n        return user;\n    } catch (error) {\n        return res.status(401).json({\n            success: false,\n            message: \"Invalid token\"\n        });\n    }\n};\n// Email verification middleware\nconst requireVerifiedEmail = async (req, res)=>{\n    const user = req.user;\n    if (!user.emailVerified) {\n        return res.status(403).json({\n            success: false,\n            message: \"Email verification required\"\n        });\n    }\n    return true;\n};\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvYXBpLXV0aWxzLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFDK0I7QUFDSTtBQVVuQyx5QkFBeUI7QUFDbEIsTUFBTUUsY0FBYyxDQUFDQyxLQUFzQkMsT0FBWUMsYUFBYSxHQUFHO0lBQzVFQyxRQUFRRixLQUFLLENBQUMsY0FBY0E7SUFFNUIsT0FBT0QsSUFBSUksTUFBTSxDQUFDRixZQUFZRyxJQUFJLENBQUM7UUFDakNDLFNBQVM7UUFDVEMsU0FBU04sTUFBTU0sT0FBTyxJQUFJO1FBQzFCTixPQUFPTyxLQUF5QixHQUFnQlAsUUFBUVEsQ0FBU0E7SUFDbkU7QUFDRixFQUFFO0FBRUYsNEJBQTRCO0FBQ3JCLE1BQU1DLGdCQUFnQixDQUFDVixLQUFzQlcsTUFBV0osVUFBVSxTQUFTLEVBQUVMLGFBQWEsR0FBRztJQUNsRyxPQUFPRixJQUFJSSxNQUFNLENBQUNGLFlBQVlHLElBQUksQ0FBQztRQUNqQ0MsU0FBUztRQUNUQztRQUNBSTtJQUNGO0FBQ0YsRUFBRTtBQUVGLDRCQUE0QjtBQUNyQixNQUFNQyxlQUFlLE9BQU9DLEtBQXFCYjtJQUN0RCxJQUFJO1FBQ0Ysd0JBQXdCO1FBQ3hCLE1BQU1jLGFBQWFELElBQUlFLE9BQU8sQ0FBQ0MsYUFBYTtRQUU1QyxJQUFJLENBQUNGLGNBQWMsQ0FBQ0EsV0FBV0csVUFBVSxDQUFDLFlBQVk7WUFDcEQsT0FBT2pCLElBQUlJLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7Z0JBQzFCQyxTQUFTO2dCQUNUQyxTQUFTO1lBQ1g7UUFDRjtRQUVBLE1BQU1XLFFBQVFKLFdBQVdLLEtBQUssQ0FBQyxJQUFJLENBQUMsRUFBRTtRQUV0QyxlQUFlO1FBQ2YsTUFBTUMsVUFBVXZCLDBEQUFVLENBQUNxQixPQUFPVixRQUFRYyxHQUFHLENBQUNDLFVBQVUsSUFBSTtRQUU1RCx5QkFBeUI7UUFDekIsTUFBTUMsT0FBTyxNQUFNMUIsNENBQUlBLENBQUMyQixRQUFRLENBQUNMLFFBQVFNLEVBQUU7UUFFM0MsSUFBSSxDQUFDRixNQUFNO1lBQ1QsT0FBT3hCLElBQUlJLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7Z0JBQzFCQyxTQUFTO2dCQUNUQyxTQUFTO1lBQ1g7UUFDRjtRQUVBLDZCQUE2QjtRQUM1Qk0sSUFBWVcsSUFBSSxHQUFHQTtRQUVwQixPQUFPQTtJQUNULEVBQUUsT0FBT3ZCLE9BQU87UUFDZCxPQUFPRCxJQUFJSSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO1lBQzFCQyxTQUFTO1lBQ1RDLFNBQVM7UUFDWDtJQUNGO0FBQ0YsRUFBRTtBQUVGLGdDQUFnQztBQUN6QixNQUFNb0IsdUJBQXVCLE9BQU9kLEtBQXFCYjtJQUM5RCxNQUFNd0IsT0FBTyxJQUFhQSxJQUFJO0lBRTlCLElBQUksQ0FBQ0EsS0FBS0ksYUFBYSxFQUFFO1FBQ3ZCLE9BQU81QixJQUFJSSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO1lBQzFCQyxTQUFTO1lBQ1RDLFNBQVM7UUFDWDtJQUNGO0lBRUEsT0FBTztBQUNULEVBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbnZvaWNlZ2VuLy4vbGliL2FwaS11dGlscy50cz83ZGE4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRBcGlSZXF1ZXN0LCBOZXh0QXBpUmVzcG9uc2UgfSBmcm9tICduZXh0JztcbmltcG9ydCBqd3QgZnJvbSAnanNvbndlYnRva2VuJztcbmltcG9ydCB7IFVzZXIgfSBmcm9tICcuL2RiL21vZGVscyc7XG5cbi8vIERlZmluZSByZXNwb25zZSB0eXBlc1xuZXhwb3J0IGludGVyZmFjZSBBcGlSZXNwb25zZSB7XG4gIHN1Y2Nlc3M6IGJvb2xlYW47XG4gIG1lc3NhZ2U/OiBzdHJpbmc7XG4gIGRhdGE/OiBhbnk7XG4gIGVycm9yPzogYW55O1xufVxuXG4vLyBFcnJvciBoYW5kbGVyIGZ1bmN0aW9uXG5leHBvcnQgY29uc3QgaGFuZGxlRXJyb3IgPSAocmVzOiBOZXh0QXBpUmVzcG9uc2UsIGVycm9yOiBhbnksIHN0YXR1c0NvZGUgPSA1MDApID0+IHtcbiAgY29uc29sZS5lcnJvcignQVBJIEVycm9yOicsIGVycm9yKTtcbiAgXG4gIHJldHVybiByZXMuc3RhdHVzKHN0YXR1c0NvZGUpLmpzb24oe1xuICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UgfHwgJ1NlcnZlciBlcnJvcicsXG4gICAgZXJyb3I6IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnID8gZXJyb3IgOiB1bmRlZmluZWRcbiAgfSk7XG59O1xuXG4vLyBTdWNjZXNzIHJlc3BvbnNlIGZ1bmN0aW9uXG5leHBvcnQgY29uc3QgaGFuZGxlU3VjY2VzcyA9IChyZXM6IE5leHRBcGlSZXNwb25zZSwgZGF0YTogYW55LCBtZXNzYWdlID0gJ1N1Y2Nlc3MnLCBzdGF0dXNDb2RlID0gMjAwKSA9PiB7XG4gIHJldHVybiByZXMuc3RhdHVzKHN0YXR1c0NvZGUpLmpzb24oe1xuICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgbWVzc2FnZSxcbiAgICBkYXRhXG4gIH0pO1xufTtcblxuLy8gQXV0aGVudGljYXRpb24gbWlkZGxld2FyZVxuZXhwb3J0IGNvbnN0IGF1dGhlbnRpY2F0ZSA9IGFzeW5jIChyZXE6IE5leHRBcGlSZXF1ZXN0LCByZXM6IE5leHRBcGlSZXNwb25zZSkgPT4ge1xuICB0cnkge1xuICAgIC8vIEdldCB0b2tlbiBmcm9tIGhlYWRlclxuICAgIGNvbnN0IGF1dGhIZWFkZXIgPSByZXEuaGVhZGVycy5hdXRob3JpemF0aW9uO1xuICAgIFxuICAgIGlmICghYXV0aEhlYWRlciB8fCAhYXV0aEhlYWRlci5zdGFydHNXaXRoKCdCZWFyZXIgJykpIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBtZXNzYWdlOiAnTm8gdG9rZW4gcHJvdmlkZWQnXG4gICAgICB9KTtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgdG9rZW4gPSBhdXRoSGVhZGVyLnNwbGl0KCcgJylbMV07XG4gICAgXG4gICAgLy8gVmVyaWZ5IHRva2VuXG4gICAgY29uc3QgZGVjb2RlZCA9IGp3dC52ZXJpZnkodG9rZW4sIHByb2Nlc3MuZW52LkpXVF9TRUNSRVQgfHwgJ3lvdXJfand0X3NlY3JldF9rZXlfY2hhbmdlX3RoaXNfaW5fcHJvZHVjdGlvbicpIGFzIHsgaWQ6IHN0cmluZyB9O1xuICAgIFxuICAgIC8vIEdldCB1c2VyIGZyb20gZGF0YWJhc2VcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5maW5kQnlQayhkZWNvZGVkLmlkKTtcbiAgICBcbiAgICBpZiAoIXVzZXIpIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBtZXNzYWdlOiAnVXNlciBub3QgZm91bmQnXG4gICAgICB9KTtcbiAgICB9XG4gICAgXG4gICAgLy8gQWRkIHVzZXIgdG8gcmVxdWVzdCBvYmplY3RcbiAgICAocmVxIGFzIGFueSkudXNlciA9IHVzZXI7XG4gICAgXG4gICAgcmV0dXJuIHVzZXI7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHtcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgbWVzc2FnZTogJ0ludmFsaWQgdG9rZW4nXG4gICAgfSk7XG4gIH1cbn07XG5cbi8vIEVtYWlsIHZlcmlmaWNhdGlvbiBtaWRkbGV3YXJlXG5leHBvcnQgY29uc3QgcmVxdWlyZVZlcmlmaWVkRW1haWwgPSBhc3luYyAocmVxOiBOZXh0QXBpUmVxdWVzdCwgcmVzOiBOZXh0QXBpUmVzcG9uc2UpID0+IHtcbiAgY29uc3QgdXNlciA9IChyZXEgYXMgYW55KS51c2VyO1xuICBcbiAgaWYgKCF1c2VyLmVtYWlsVmVyaWZpZWQpIHtcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDMpLmpzb24oe1xuICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICBtZXNzYWdlOiAnRW1haWwgdmVyaWZpY2F0aW9uIHJlcXVpcmVkJ1xuICAgIH0pO1xuICB9XG4gIFxuICByZXR1cm4gdHJ1ZTtcbn07Il0sIm5hbWVzIjpbImp3dCIsIlVzZXIiLCJoYW5kbGVFcnJvciIsInJlcyIsImVycm9yIiwic3RhdHVzQ29kZSIsImNvbnNvbGUiLCJzdGF0dXMiLCJqc29uIiwic3VjY2VzcyIsIm1lc3NhZ2UiLCJwcm9jZXNzIiwidW5kZWZpbmVkIiwiaGFuZGxlU3VjY2VzcyIsImRhdGEiLCJhdXRoZW50aWNhdGUiLCJyZXEiLCJhdXRoSGVhZGVyIiwiaGVhZGVycyIsImF1dGhvcml6YXRpb24iLCJzdGFydHNXaXRoIiwidG9rZW4iLCJzcGxpdCIsImRlY29kZWQiLCJ2ZXJpZnkiLCJlbnYiLCJKV1RfU0VDUkVUIiwidXNlciIsImZpbmRCeVBrIiwiaWQiLCJyZXF1aXJlVmVyaWZpZWRFbWFpbCIsImVtYWlsVmVyaWZpZWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./lib/api-utils.ts\n");

/***/ }),

/***/ "(api)/./lib/db/db.ts":
/*!**********************!*\
  !*** ./lib/db/db.ts ***!
  \**********************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   initDb: () => (/* binding */ initDb),\n/* harmony export */   sequelize: () => (/* binding */ sequelize),\n/* harmony export */   testConnection: () => (/* binding */ testConnection)\n/* harmony export */ });\n/* harmony import */ var sequelize__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! sequelize */ \"sequelize\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([sequelize__WEBPACK_IMPORTED_MODULE_0__]);\nsequelize__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n// Initialize Sequelize with environment variables\nconst sequelize = new sequelize__WEBPACK_IMPORTED_MODULE_0__.Sequelize(process.env.DB_NAME || \"invoicegen\", process.env.DB_USER || \"postgres\", process.env.DB_PASSWORD || \"postgres\", {\n    host: process.env.DB_HOST || \"localhost\",\n    port: parseInt(process.env.DB_PORT || \"5432\"),\n    dialect: \"postgres\",\n    logging:  true ? console.log : 0,\n    dialectOptions: {\n        ssl:  false ? 0 : false\n    }\n});\n// Test the connection with retry logic\nconst testConnection = async (retries = 5, delay = 5000)=>{\n    let currentTry = 0;\n    while(currentTry < retries){\n        try {\n            await sequelize.authenticate();\n            console.log(\"Database connection has been established successfully.\");\n            return true;\n        } catch (error) {\n            currentTry++;\n            console.error(`Unable to connect to the database (attempt ${currentTry}/${retries}):`, error);\n            if (currentTry >= retries) {\n                console.error(\"Maximum connection attempts reached. Database connection failed.\");\n                // In production, we might want to notify administrators\n                if (false) {}\n                return false;\n            }\n            // Wait before trying again\n            console.log(`Retrying in ${delay / 1000} seconds...`);\n            await new Promise((resolve)=>setTimeout(resolve, delay));\n        }\n    }\n    return false;\n};\n// Initialize database\nconst initDb = async ()=>{\n    try {\n        // Import models\n        __webpack_require__(/*! ./models/User */ \"(api)/./lib/db/models/User.ts\");\n        __webpack_require__(/*! ./models/Invoice */ \"(api)/./lib/db/models/Invoice.ts\");\n        // In production, we don't want to alter tables automatically\n        // This should be done through migrations\n        const syncOptions =  true ? {\n            alter: true\n        } : 0;\n        await sequelize.sync(syncOptions);\n        console.log(\"Database synchronized successfully.\");\n        return true;\n    } catch (error) {\n        console.error(\"Error synchronizing database:\", error);\n        // In production, we might want to notify administrators\n        if (false) {}\n        return false;\n    }\n};\n\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvZGIvZGIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFzQztBQUV0QyxrREFBa0Q7QUFDbEQsTUFBTUMsWUFBWSxJQUFJRCxnREFBU0EsQ0FDN0JFLFFBQVFDLEdBQUcsQ0FBQ0MsT0FBTyxJQUFJLGNBQ3ZCRixRQUFRQyxHQUFHLENBQUNFLE9BQU8sSUFBSSxZQUN2QkgsUUFBUUMsR0FBRyxDQUFDRyxXQUFXLElBQUksWUFDM0I7SUFDRUMsTUFBTUwsUUFBUUMsR0FBRyxDQUFDSyxPQUFPLElBQUk7SUFDN0JDLE1BQU1DLFNBQVNSLFFBQVFDLEdBQUcsQ0FBQ1EsT0FBTyxJQUFJO0lBQ3RDQyxTQUFTO0lBQ1RDLFNBQVNYLEtBQXlCLEdBQWdCWSxRQUFRQyxHQUFHLEdBQUcsQ0FBSztJQUNyRUMsZ0JBQWdCO1FBQ2RDLEtBQUtmLE1BQXlCLEdBQWUsQ0FHNUMsR0FBRztJQUNOO0FBQ0Y7QUFHRix1Q0FBdUM7QUFDdkMsTUFBTWtCLGlCQUFpQixPQUFPQyxVQUFVLENBQUMsRUFBRUMsUUFBUSxJQUFJO0lBQ3JELElBQUlDLGFBQWE7SUFFakIsTUFBT0EsYUFBYUYsUUFBUztRQUMzQixJQUFJO1lBQ0YsTUFBTXBCLFVBQVV1QixZQUFZO1lBQzVCVixRQUFRQyxHQUFHLENBQUM7WUFDWixPQUFPO1FBQ1QsRUFBRSxPQUFPVSxPQUFPO1lBQ2RGO1lBQ0FULFFBQVFXLEtBQUssQ0FBQyxDQUFDLDJDQUEyQyxFQUFFRixXQUFXLENBQUMsRUFBRUYsUUFBUSxFQUFFLENBQUMsRUFBRUk7WUFFdkYsSUFBSUYsY0FBY0YsU0FBUztnQkFDekJQLFFBQVFXLEtBQUssQ0FBQztnQkFFZCx3REFBd0Q7Z0JBQ3hELElBQUl2QixLQUF5QixFQUFjLEVBRzFDO2dCQUVELE9BQU87WUFDVDtZQUVBLDJCQUEyQjtZQUMzQlksUUFBUUMsR0FBRyxDQUFDLENBQUMsWUFBWSxFQUFFTyxRQUFNLEtBQUssV0FBVyxDQUFDO1lBQ2xELE1BQU0sSUFBSUksUUFBUUMsQ0FBQUEsVUFBV0MsV0FBV0QsU0FBU0w7UUFDbkQ7SUFDRjtJQUVBLE9BQU87QUFDVDtBQUVBLHNCQUFzQjtBQUN0QixNQUFNTyxTQUFTO0lBQ2IsSUFBSTtRQUNGLGdCQUFnQjtRQUNoQlgsbUJBQU9BLENBQUM7UUFDUkEsbUJBQU9BLENBQUM7UUFFUiw2REFBNkQ7UUFDN0QseUNBQXlDO1FBQ3pDLE1BQU1ZLGNBQWM1QixLQUF5QixHQUN6QztZQUFFNkIsT0FBTztRQUFLLElBQ2QsQ0FBZ0I7UUFFcEIsTUFBTTlCLFVBQVUrQixJQUFJLENBQUNGO1FBQ3JCaEIsUUFBUUMsR0FBRyxDQUFDO1FBQ1osT0FBTztJQUNULEVBQUUsT0FBT1UsT0FBTztRQUNkWCxRQUFRVyxLQUFLLENBQUMsaUNBQWlDQTtRQUUvQyx3REFBd0Q7UUFDeEQsSUFBSXZCLEtBQXlCLEVBQWMsRUFHMUM7UUFFRCxPQUFPO0lBQ1Q7QUFDRjtBQUU2QyIsInNvdXJjZXMiOlsid2VicGFjazovL2ludm9pY2VnZW4vLi9saWIvZGIvZGIudHM/MDdhNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTZXF1ZWxpemUgfSBmcm9tICdzZXF1ZWxpemUnO1xuXG4vLyBJbml0aWFsaXplIFNlcXVlbGl6ZSB3aXRoIGVudmlyb25tZW50IHZhcmlhYmxlc1xuY29uc3Qgc2VxdWVsaXplID0gbmV3IFNlcXVlbGl6ZShcbiAgcHJvY2Vzcy5lbnYuREJfTkFNRSB8fCAnaW52b2ljZWdlbicsXG4gIHByb2Nlc3MuZW52LkRCX1VTRVIgfHwgJ3Bvc3RncmVzJyxcbiAgcHJvY2Vzcy5lbnYuREJfUEFTU1dPUkQgfHwgJ3Bvc3RncmVzJyxcbiAge1xuICAgIGhvc3Q6IHByb2Nlc3MuZW52LkRCX0hPU1QgfHwgJ2xvY2FsaG9zdCcsXG4gICAgcG9ydDogcGFyc2VJbnQocHJvY2Vzcy5lbnYuREJfUE9SVCB8fCAnNTQzMicpLFxuICAgIGRpYWxlY3Q6ICdwb3N0Z3JlcycsXG4gICAgbG9nZ2luZzogcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcgPyBjb25zb2xlLmxvZyA6IGZhbHNlLFxuICAgIGRpYWxlY3RPcHRpb25zOiB7XG4gICAgICBzc2w6IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicgPyB7XG4gICAgICAgIHJlcXVpcmU6IHRydWUsXG4gICAgICAgIHJlamVjdFVuYXV0aG9yaXplZDogZmFsc2VcbiAgICAgIH0gOiBmYWxzZVxuICAgIH1cbiAgfVxuKTtcblxuLy8gVGVzdCB0aGUgY29ubmVjdGlvbiB3aXRoIHJldHJ5IGxvZ2ljXG5jb25zdCB0ZXN0Q29ubmVjdGlvbiA9IGFzeW5jIChyZXRyaWVzID0gNSwgZGVsYXkgPSA1MDAwKSA9PiB7XG4gIGxldCBjdXJyZW50VHJ5ID0gMDtcbiAgXG4gIHdoaWxlIChjdXJyZW50VHJ5IDwgcmV0cmllcykge1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCBzZXF1ZWxpemUuYXV0aGVudGljYXRlKCk7XG4gICAgICBjb25zb2xlLmxvZygnRGF0YWJhc2UgY29ubmVjdGlvbiBoYXMgYmVlbiBlc3RhYmxpc2hlZCBzdWNjZXNzZnVsbHkuJyk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY3VycmVudFRyeSsrO1xuICAgICAgY29uc29sZS5lcnJvcihgVW5hYmxlIHRvIGNvbm5lY3QgdG8gdGhlIGRhdGFiYXNlIChhdHRlbXB0ICR7Y3VycmVudFRyeX0vJHtyZXRyaWVzfSk6YCwgZXJyb3IpO1xuICAgICAgXG4gICAgICBpZiAoY3VycmVudFRyeSA+PSByZXRyaWVzKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ01heGltdW0gY29ubmVjdGlvbiBhdHRlbXB0cyByZWFjaGVkLiBEYXRhYmFzZSBjb25uZWN0aW9uIGZhaWxlZC4nKTtcbiAgICAgICAgXG4gICAgICAgIC8vIEluIHByb2R1Y3Rpb24sIHdlIG1pZ2h0IHdhbnQgdG8gbm90aWZ5IGFkbWluaXN0cmF0b3JzXG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgLy8gSGVyZSB5b3UgY291bGQgaW50ZWdyYXRlIHdpdGggYW4gZXJyb3IgcmVwb3J0aW5nIHNlcnZpY2UgbGlrZSBTZW50cnlcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdDUklUSUNBTDogRGF0YWJhc2UgY29ubmVjdGlvbiBmYWlsZWQgaW4gcHJvZHVjdGlvbiBlbnZpcm9ubWVudCcpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFdhaXQgYmVmb3JlIHRyeWluZyBhZ2FpblxuICAgICAgY29uc29sZS5sb2coYFJldHJ5aW5nIGluICR7ZGVsYXkvMTAwMH0gc2Vjb25kcy4uLmApO1xuICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIGRlbGF5KSk7XG4gICAgfVxuICB9XG4gIFxuICByZXR1cm4gZmFsc2U7XG59O1xuXG4vLyBJbml0aWFsaXplIGRhdGFiYXNlXG5jb25zdCBpbml0RGIgPSBhc3luYyAoKSA9PiB7XG4gIHRyeSB7XG4gICAgLy8gSW1wb3J0IG1vZGVsc1xuICAgIHJlcXVpcmUoJy4vbW9kZWxzL1VzZXInKTtcbiAgICByZXF1aXJlKCcuL21vZGVscy9JbnZvaWNlJyk7XG4gICAgXG4gICAgLy8gSW4gcHJvZHVjdGlvbiwgd2UgZG9uJ3Qgd2FudCB0byBhbHRlciB0YWJsZXMgYXV0b21hdGljYWxseVxuICAgIC8vIFRoaXMgc2hvdWxkIGJlIGRvbmUgdGhyb3VnaCBtaWdyYXRpb25zXG4gICAgY29uc3Qgc3luY09wdGlvbnMgPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JyBcbiAgICAgID8geyBhbHRlcjogdHJ1ZSB9XG4gICAgICA6IHsgYWx0ZXI6IGZhbHNlIH07XG4gICAgXG4gICAgYXdhaXQgc2VxdWVsaXplLnN5bmMoc3luY09wdGlvbnMpO1xuICAgIGNvbnNvbGUubG9nKCdEYXRhYmFzZSBzeW5jaHJvbml6ZWQgc3VjY2Vzc2Z1bGx5LicpO1xuICAgIHJldHVybiB0cnVlO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHN5bmNocm9uaXppbmcgZGF0YWJhc2U6JywgZXJyb3IpO1xuICAgIFxuICAgIC8vIEluIHByb2R1Y3Rpb24sIHdlIG1pZ2h0IHdhbnQgdG8gbm90aWZ5IGFkbWluaXN0cmF0b3JzXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIC8vIEhlcmUgeW91IGNvdWxkIGludGVncmF0ZSB3aXRoIGFuIGVycm9yIHJlcG9ydGluZyBzZXJ2aWNlIGxpa2UgU2VudHJ5XG4gICAgICBjb25zb2xlLmVycm9yKCdDUklUSUNBTDogRGF0YWJhc2Ugc3luY2hyb25pemF0aW9uIGZhaWxlZCBpbiBwcm9kdWN0aW9uIGVudmlyb25tZW50Jyk7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufTtcblxuZXhwb3J0IHsgc2VxdWVsaXplLCB0ZXN0Q29ubmVjdGlvbiwgaW5pdERiIH07Il0sIm5hbWVzIjpbIlNlcXVlbGl6ZSIsInNlcXVlbGl6ZSIsInByb2Nlc3MiLCJlbnYiLCJEQl9OQU1FIiwiREJfVVNFUiIsIkRCX1BBU1NXT1JEIiwiaG9zdCIsIkRCX0hPU1QiLCJwb3J0IiwicGFyc2VJbnQiLCJEQl9QT1JUIiwiZGlhbGVjdCIsImxvZ2dpbmciLCJjb25zb2xlIiwibG9nIiwiZGlhbGVjdE9wdGlvbnMiLCJzc2wiLCJyZXF1aXJlIiwicmVqZWN0VW5hdXRob3JpemVkIiwidGVzdENvbm5lY3Rpb24iLCJyZXRyaWVzIiwiZGVsYXkiLCJjdXJyZW50VHJ5IiwiYXV0aGVudGljYXRlIiwiZXJyb3IiLCJQcm9taXNlIiwicmVzb2x2ZSIsInNldFRpbWVvdXQiLCJpbml0RGIiLCJzeW5jT3B0aW9ucyIsImFsdGVyIiwic3luYyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./lib/db/db.ts\n");

/***/ }),

/***/ "(api)/./lib/db/models/Invoice.ts":
/*!**********************************!*\
  !*** ./lib/db/models/Invoice.ts ***!
  \**********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var sequelize__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! sequelize */ \"sequelize\");\n/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../db */ \"(api)/./lib/db/db.ts\");\n/* harmony import */ var _User__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./User */ \"(api)/./lib/db/models/User.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([sequelize__WEBPACK_IMPORTED_MODULE_0__, _db__WEBPACK_IMPORTED_MODULE_1__, _User__WEBPACK_IMPORTED_MODULE_2__]);\n([sequelize__WEBPACK_IMPORTED_MODULE_0__, _db__WEBPACK_IMPORTED_MODULE_1__, _User__WEBPACK_IMPORTED_MODULE_2__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\nconst Invoice = _db__WEBPACK_IMPORTED_MODULE_1__.sequelize.define(\"Invoice\", {\n    id: {\n        type: sequelize__WEBPACK_IMPORTED_MODULE_0__.DataTypes.UUID,\n        defaultValue: sequelize__WEBPACK_IMPORTED_MODULE_0__.DataTypes.UUIDV4,\n        primaryKey: true\n    },\n    invoiceNumber: {\n        type: sequelize__WEBPACK_IMPORTED_MODULE_0__.DataTypes.STRING,\n        allowNull: true\n    },\n    invoiceDate: {\n        type: sequelize__WEBPACK_IMPORTED_MODULE_0__.DataTypes.DATEONLY,\n        allowNull: false,\n        defaultValue: sequelize__WEBPACK_IMPORTED_MODULE_0__.DataTypes.NOW\n    },\n    dueDate: {\n        type: sequelize__WEBPACK_IMPORTED_MODULE_0__.DataTypes.DATEONLY,\n        allowNull: true\n    },\n    logoUrl: {\n        type: sequelize__WEBPACK_IMPORTED_MODULE_0__.DataTypes.STRING,\n        allowNull: true\n    },\n    sender: {\n        type: sequelize__WEBPACK_IMPORTED_MODULE_0__.DataTypes.JSONB,\n        allowNull: false,\n        defaultValue: {\n            name: \"\",\n            address: \"\",\n            city: \"\",\n            postalCode: \"\",\n            country: \"\"\n        }\n    },\n    recipient: {\n        type: sequelize__WEBPACK_IMPORTED_MODULE_0__.DataTypes.JSONB,\n        allowNull: false,\n        defaultValue: {\n            name: \"\",\n            address: \"\",\n            city: \"\",\n            postalCode: \"\",\n            country: \"\"\n        }\n    },\n    items: {\n        type: sequelize__WEBPACK_IMPORTED_MODULE_0__.DataTypes.JSONB,\n        allowNull: false,\n        defaultValue: []\n    },\n    currency: {\n        type: sequelize__WEBPACK_IMPORTED_MODULE_0__.DataTypes.STRING,\n        allowNull: false,\n        defaultValue: \"USD\"\n    },\n    taxRate: {\n        type: sequelize__WEBPACK_IMPORTED_MODULE_0__.DataTypes.FLOAT,\n        allowNull: false,\n        defaultValue: 0\n    },\n    subtotal: {\n        type: sequelize__WEBPACK_IMPORTED_MODULE_0__.DataTypes.FLOAT,\n        allowNull: false,\n        defaultValue: 0\n    },\n    total: {\n        type: sequelize__WEBPACK_IMPORTED_MODULE_0__.DataTypes.FLOAT,\n        allowNull: false,\n        defaultValue: 0\n    },\n    UserId: {\n        type: sequelize__WEBPACK_IMPORTED_MODULE_0__.DataTypes.UUID,\n        allowNull: false,\n        references: {\n            model: \"Users\",\n            key: \"id\"\n        }\n    }\n}, {\n    timestamps: true,\n    hooks: {\n        beforeCreate: (invoice)=>{\n            // Calculate subtotal and total before saving\n            const subtotal = invoice.items.reduce((sum, item)=>sum + item.quantity * item.unitPrice, 0);\n            const taxAmount = subtotal * (invoice.taxRate / 100);\n            invoice.subtotal = subtotal;\n            invoice.total = subtotal + taxAmount;\n        },\n        beforeUpdate: (invoice)=>{\n            // Recalculate if items or tax rate changed\n            if (invoice.changed(\"items\") || invoice.changed(\"taxRate\")) {\n                const subtotal = invoice.items.reduce((sum, item)=>sum + item.quantity * item.unitPrice, 0);\n                const taxAmount = subtotal * (invoice.taxRate / 100);\n                invoice.subtotal = subtotal;\n                invoice.total = subtotal + taxAmount;\n            }\n        }\n    }\n});\n// Define association\n_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].hasMany(Invoice);\nInvoice.belongsTo(_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"]);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Invoice);\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvZGIvbW9kZWxzL0ludm9pY2UudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUF1RDtBQUNyQjtBQUNSO0FBK0MxQixNQUFNRyxVQUFVRiwwQ0FBU0EsQ0FBQ0csTUFBTSxDQUM5QixXQUNBO0lBQ0VDLElBQUk7UUFDRkMsTUFBTU4sZ0RBQVNBLENBQUNPLElBQUk7UUFDcEJDLGNBQWNSLGdEQUFTQSxDQUFDUyxNQUFNO1FBQzlCQyxZQUFZO0lBQ2Q7SUFDQUMsZUFBZTtRQUNiTCxNQUFNTixnREFBU0EsQ0FBQ1ksTUFBTTtRQUN0QkMsV0FBVztJQUNiO0lBQ0FDLGFBQWE7UUFDWFIsTUFBTU4sZ0RBQVNBLENBQUNlLFFBQVE7UUFDeEJGLFdBQVc7UUFDWEwsY0FBY1IsZ0RBQVNBLENBQUNnQixHQUFHO0lBQzdCO0lBQ0FDLFNBQVM7UUFDUFgsTUFBTU4sZ0RBQVNBLENBQUNlLFFBQVE7UUFDeEJGLFdBQVc7SUFDYjtJQUNBSyxTQUFTO1FBQ1BaLE1BQU1OLGdEQUFTQSxDQUFDWSxNQUFNO1FBQ3RCQyxXQUFXO0lBQ2I7SUFDQU0sUUFBUTtRQUNOYixNQUFNTixnREFBU0EsQ0FBQ29CLEtBQUs7UUFDckJQLFdBQVc7UUFDWEwsY0FBYztZQUNaYSxNQUFNO1lBQ05DLFNBQVM7WUFDVEMsTUFBTTtZQUNOQyxZQUFZO1lBQ1pDLFNBQVM7UUFDWDtJQUNGO0lBQ0FDLFdBQVc7UUFDVHBCLE1BQU1OLGdEQUFTQSxDQUFDb0IsS0FBSztRQUNyQlAsV0FBVztRQUNYTCxjQUFjO1lBQ1phLE1BQU07WUFDTkMsU0FBUztZQUNUQyxNQUFNO1lBQ05DLFlBQVk7WUFDWkMsU0FBUztRQUNYO0lBQ0Y7SUFDQUUsT0FBTztRQUNMckIsTUFBTU4sZ0RBQVNBLENBQUNvQixLQUFLO1FBQ3JCUCxXQUFXO1FBQ1hMLGNBQWMsRUFBRTtJQUNsQjtJQUNBb0IsVUFBVTtRQUNSdEIsTUFBTU4sZ0RBQVNBLENBQUNZLE1BQU07UUFDdEJDLFdBQVc7UUFDWEwsY0FBYztJQUNoQjtJQUNBcUIsU0FBUztRQUNQdkIsTUFBTU4sZ0RBQVNBLENBQUM4QixLQUFLO1FBQ3JCakIsV0FBVztRQUNYTCxjQUFjO0lBQ2hCO0lBQ0F1QixVQUFVO1FBQ1J6QixNQUFNTixnREFBU0EsQ0FBQzhCLEtBQUs7UUFDckJqQixXQUFXO1FBQ1hMLGNBQWM7SUFDaEI7SUFDQXdCLE9BQU87UUFDTDFCLE1BQU1OLGdEQUFTQSxDQUFDOEIsS0FBSztRQUNyQmpCLFdBQVc7UUFDWEwsY0FBYztJQUNoQjtJQUNBeUIsUUFBUTtRQUNOM0IsTUFBTU4sZ0RBQVNBLENBQUNPLElBQUk7UUFDcEJNLFdBQVc7UUFDWHFCLFlBQVk7WUFDVkMsT0FBTztZQUNQQyxLQUFLO1FBQ1A7SUFDRjtBQUNGLEdBQ0E7SUFDRUMsWUFBWTtJQUNaQyxPQUFPO1FBQ0xDLGNBQWMsQ0FBQ0M7WUFDYiw2Q0FBNkM7WUFDN0MsTUFBTVQsV0FBV1MsUUFBUWIsS0FBSyxDQUFDYyxNQUFNLENBQ25DLENBQUNDLEtBQUtDLE9BQVNELE1BQU9DLEtBQUtDLFFBQVEsR0FBR0QsS0FBS0UsU0FBUyxFQUNwRDtZQUVGLE1BQU1DLFlBQVlmLFdBQVlTLENBQUFBLFFBQVFYLE9BQU8sR0FBRyxHQUFFO1lBRWxEVyxRQUFRVCxRQUFRLEdBQUdBO1lBQ25CUyxRQUFRUixLQUFLLEdBQUdELFdBQVdlO1FBQzdCO1FBQ0FDLGNBQWMsQ0FBQ1A7WUFDYiwyQ0FBMkM7WUFDM0MsSUFBSUEsUUFBUVEsT0FBTyxDQUFDLFlBQVlSLFFBQVFRLE9BQU8sQ0FBQyxZQUFZO2dCQUMxRCxNQUFNakIsV0FBV1MsUUFBUWIsS0FBSyxDQUFDYyxNQUFNLENBQ25DLENBQUNDLEtBQUtDLE9BQVNELE1BQU9DLEtBQUtDLFFBQVEsR0FBR0QsS0FBS0UsU0FBUyxFQUNwRDtnQkFFRixNQUFNQyxZQUFZZixXQUFZUyxDQUFBQSxRQUFRWCxPQUFPLEdBQUcsR0FBRTtnQkFFbERXLFFBQVFULFFBQVEsR0FBR0E7Z0JBQ25CUyxRQUFRUixLQUFLLEdBQUdELFdBQVdlO1lBQzdCO1FBQ0Y7SUFDRjtBQUNGO0FBR0YscUJBQXFCO0FBQ3JCNUMscURBQVksQ0FBQ0M7QUFDYkEsUUFBUStDLFNBQVMsQ0FBQ2hELDZDQUFJQTtBQUV0QixpRUFBZUMsT0FBT0EsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2ludm9pY2VnZW4vLi9saWIvZGIvbW9kZWxzL0ludm9pY2UudHM/ZmRlZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBEYXRhVHlwZXMsIE1vZGVsLCBPcHRpb25hbCB9IGZyb20gJ3NlcXVlbGl6ZSc7XG5pbXBvcnQgeyBzZXF1ZWxpemUgfSBmcm9tICcuLi9kYic7XG5pbXBvcnQgVXNlciBmcm9tICcuL1VzZXInO1xuXG4vLyBEZWZpbmUgSW52b2ljZSBJdGVtIGludGVyZmFjZVxuaW50ZXJmYWNlIEludm9pY2VJdGVtIHtcbiAgaWQ6IHN0cmluZztcbiAgZGVzY3JpcHRpb246IHN0cmluZztcbiAgcXVhbnRpdHk6IG51bWJlcjtcbiAgdW5pdFByaWNlOiBudW1iZXI7XG59XG5cbi8vIERlZmluZSBJbnZvaWNlIGF0dHJpYnV0ZXNcbmludGVyZmFjZSBJbnZvaWNlQXR0cmlidXRlcyB7XG4gIGlkOiBzdHJpbmc7XG4gIGludm9pY2VOdW1iZXI6IHN0cmluZztcbiAgaW52b2ljZURhdGU6IERhdGU7XG4gIGR1ZURhdGU/OiBEYXRlO1xuICBsb2dvVXJsPzogc3RyaW5nO1xuICBzZW5kZXI6IHtcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgYWRkcmVzczogc3RyaW5nO1xuICAgIGNpdHk6IHN0cmluZztcbiAgICBwb3N0YWxDb2RlOiBzdHJpbmc7XG4gICAgY291bnRyeTogc3RyaW5nO1xuICB9O1xuICByZWNpcGllbnQ6IHtcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgYWRkcmVzczogc3RyaW5nO1xuICAgIGNpdHk6IHN0cmluZztcbiAgICBwb3N0YWxDb2RlOiBzdHJpbmc7XG4gICAgY291bnRyeTogc3RyaW5nO1xuICB9O1xuICBpdGVtczogSW52b2ljZUl0ZW1bXTtcbiAgY3VycmVuY3k6IHN0cmluZztcbiAgdGF4UmF0ZTogbnVtYmVyO1xuICBzdWJ0b3RhbDogbnVtYmVyO1xuICB0b3RhbDogbnVtYmVyO1xuICBVc2VySWQ6IHN0cmluZztcbiAgY3JlYXRlZEF0PzogRGF0ZTtcbiAgdXBkYXRlZEF0PzogRGF0ZTtcbn1cblxuLy8gRGVmaW5lIG9wdGlvbmFsIGF0dHJpYnV0ZXMgZm9yIEludm9pY2UgY3JlYXRpb25cbmludGVyZmFjZSBJbnZvaWNlQ3JlYXRpb25BdHRyaWJ1dGVzIGV4dGVuZHMgT3B0aW9uYWw8SW52b2ljZUF0dHJpYnV0ZXMsICdpZCcgfCAnaW52b2ljZU51bWJlcicgfCAnc3VidG90YWwnIHwgJ3RvdGFsJz4ge31cblxuLy8gRGVmaW5lIEludm9pY2UgbW9kZWxcbmludGVyZmFjZSBJbnZvaWNlSW5zdGFuY2UgZXh0ZW5kcyBNb2RlbDxJbnZvaWNlQXR0cmlidXRlcywgSW52b2ljZUNyZWF0aW9uQXR0cmlidXRlcz4sIEludm9pY2VBdHRyaWJ1dGVzIHt9XG5cbmNvbnN0IEludm9pY2UgPSBzZXF1ZWxpemUuZGVmaW5lPEludm9pY2VJbnN0YW5jZT4oXG4gICdJbnZvaWNlJyxcbiAge1xuICAgIGlkOiB7XG4gICAgICB0eXBlOiBEYXRhVHlwZXMuVVVJRCxcbiAgICAgIGRlZmF1bHRWYWx1ZTogRGF0YVR5cGVzLlVVSURWNCxcbiAgICAgIHByaW1hcnlLZXk6IHRydWVcbiAgICB9LFxuICAgIGludm9pY2VOdW1iZXI6IHtcbiAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgICBhbGxvd051bGw6IHRydWVcbiAgICB9LFxuICAgIGludm9pY2VEYXRlOiB7XG4gICAgICB0eXBlOiBEYXRhVHlwZXMuREFURU9OTFksXG4gICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgZGVmYXVsdFZhbHVlOiBEYXRhVHlwZXMuTk9XXG4gICAgfSxcbiAgICBkdWVEYXRlOiB7XG4gICAgICB0eXBlOiBEYXRhVHlwZXMuREFURU9OTFksXG4gICAgICBhbGxvd051bGw6IHRydWVcbiAgICB9LFxuICAgIGxvZ29Vcmw6IHtcbiAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgICBhbGxvd051bGw6IHRydWVcbiAgICB9LFxuICAgIHNlbmRlcjoge1xuICAgICAgdHlwZTogRGF0YVR5cGVzLkpTT05CLFxuICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgIGRlZmF1bHRWYWx1ZToge1xuICAgICAgICBuYW1lOiAnJyxcbiAgICAgICAgYWRkcmVzczogJycsXG4gICAgICAgIGNpdHk6ICcnLFxuICAgICAgICBwb3N0YWxDb2RlOiAnJyxcbiAgICAgICAgY291bnRyeTogJydcbiAgICAgIH1cbiAgICB9LFxuICAgIHJlY2lwaWVudDoge1xuICAgICAgdHlwZTogRGF0YVR5cGVzLkpTT05CLFxuICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgIGRlZmF1bHRWYWx1ZToge1xuICAgICAgICBuYW1lOiAnJyxcbiAgICAgICAgYWRkcmVzczogJycsXG4gICAgICAgIGNpdHk6ICcnLFxuICAgICAgICBwb3N0YWxDb2RlOiAnJyxcbiAgICAgICAgY291bnRyeTogJydcbiAgICAgIH1cbiAgICB9LFxuICAgIGl0ZW1zOiB7XG4gICAgICB0eXBlOiBEYXRhVHlwZXMuSlNPTkIsXG4gICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgZGVmYXVsdFZhbHVlOiBbXVxuICAgIH0sXG4gICAgY3VycmVuY3k6IHtcbiAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgZGVmYXVsdFZhbHVlOiAnVVNEJ1xuICAgIH0sXG4gICAgdGF4UmF0ZToge1xuICAgICAgdHlwZTogRGF0YVR5cGVzLkZMT0FULFxuICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgIGRlZmF1bHRWYWx1ZTogMFxuICAgIH0sXG4gICAgc3VidG90YWw6IHtcbiAgICAgIHR5cGU6IERhdGFUeXBlcy5GTE9BVCxcbiAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgICBkZWZhdWx0VmFsdWU6IDBcbiAgICB9LFxuICAgIHRvdGFsOiB7XG4gICAgICB0eXBlOiBEYXRhVHlwZXMuRkxPQVQsXG4gICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgZGVmYXVsdFZhbHVlOiAwXG4gICAgfSxcbiAgICBVc2VySWQ6IHtcbiAgICAgIHR5cGU6IERhdGFUeXBlcy5VVUlELFxuICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgIHJlZmVyZW5jZXM6IHtcbiAgICAgICAgbW9kZWw6ICdVc2VycycsXG4gICAgICAgIGtleTogJ2lkJ1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAge1xuICAgIHRpbWVzdGFtcHM6IHRydWUsXG4gICAgaG9va3M6IHtcbiAgICAgIGJlZm9yZUNyZWF0ZTogKGludm9pY2U6IEludm9pY2VJbnN0YW5jZSkgPT4ge1xuICAgICAgICAvLyBDYWxjdWxhdGUgc3VidG90YWwgYW5kIHRvdGFsIGJlZm9yZSBzYXZpbmdcbiAgICAgICAgY29uc3Qgc3VidG90YWwgPSBpbnZvaWNlLml0ZW1zLnJlZHVjZShcbiAgICAgICAgICAoc3VtLCBpdGVtKSA9PiBzdW0gKyAoaXRlbS5xdWFudGl0eSAqIGl0ZW0udW5pdFByaWNlKSxcbiAgICAgICAgICAwXG4gICAgICAgICk7XG4gICAgICAgIGNvbnN0IHRheEFtb3VudCA9IHN1YnRvdGFsICogKGludm9pY2UudGF4UmF0ZSAvIDEwMCk7XG4gICAgICAgIFxuICAgICAgICBpbnZvaWNlLnN1YnRvdGFsID0gc3VidG90YWw7XG4gICAgICAgIGludm9pY2UudG90YWwgPSBzdWJ0b3RhbCArIHRheEFtb3VudDtcbiAgICAgIH0sXG4gICAgICBiZWZvcmVVcGRhdGU6IChpbnZvaWNlOiBJbnZvaWNlSW5zdGFuY2UpID0+IHtcbiAgICAgICAgLy8gUmVjYWxjdWxhdGUgaWYgaXRlbXMgb3IgdGF4IHJhdGUgY2hhbmdlZFxuICAgICAgICBpZiAoaW52b2ljZS5jaGFuZ2VkKCdpdGVtcycpIHx8IGludm9pY2UuY2hhbmdlZCgndGF4UmF0ZScpKSB7XG4gICAgICAgICAgY29uc3Qgc3VidG90YWwgPSBpbnZvaWNlLml0ZW1zLnJlZHVjZShcbiAgICAgICAgICAgIChzdW0sIGl0ZW0pID0+IHN1bSArIChpdGVtLnF1YW50aXR5ICogaXRlbS51bml0UHJpY2UpLFxuICAgICAgICAgICAgMFxuICAgICAgICAgICk7XG4gICAgICAgICAgY29uc3QgdGF4QW1vdW50ID0gc3VidG90YWwgKiAoaW52b2ljZS50YXhSYXRlIC8gMTAwKTtcbiAgICAgICAgICBcbiAgICAgICAgICBpbnZvaWNlLnN1YnRvdGFsID0gc3VidG90YWw7XG4gICAgICAgICAgaW52b2ljZS50b3RhbCA9IHN1YnRvdGFsICsgdGF4QW1vdW50O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4pO1xuXG4vLyBEZWZpbmUgYXNzb2NpYXRpb25cblVzZXIuaGFzTWFueShJbnZvaWNlKTtcbkludm9pY2UuYmVsb25nc1RvKFVzZXIpO1xuXG5leHBvcnQgZGVmYXVsdCBJbnZvaWNlOyJdLCJuYW1lcyI6WyJEYXRhVHlwZXMiLCJzZXF1ZWxpemUiLCJVc2VyIiwiSW52b2ljZSIsImRlZmluZSIsImlkIiwidHlwZSIsIlVVSUQiLCJkZWZhdWx0VmFsdWUiLCJVVUlEVjQiLCJwcmltYXJ5S2V5IiwiaW52b2ljZU51bWJlciIsIlNUUklORyIsImFsbG93TnVsbCIsImludm9pY2VEYXRlIiwiREFURU9OTFkiLCJOT1ciLCJkdWVEYXRlIiwibG9nb1VybCIsInNlbmRlciIsIkpTT05CIiwibmFtZSIsImFkZHJlc3MiLCJjaXR5IiwicG9zdGFsQ29kZSIsImNvdW50cnkiLCJyZWNpcGllbnQiLCJpdGVtcyIsImN1cnJlbmN5IiwidGF4UmF0ZSIsIkZMT0FUIiwic3VidG90YWwiLCJ0b3RhbCIsIlVzZXJJZCIsInJlZmVyZW5jZXMiLCJtb2RlbCIsImtleSIsInRpbWVzdGFtcHMiLCJob29rcyIsImJlZm9yZUNyZWF0ZSIsImludm9pY2UiLCJyZWR1Y2UiLCJzdW0iLCJpdGVtIiwicXVhbnRpdHkiLCJ1bml0UHJpY2UiLCJ0YXhBbW91bnQiLCJiZWZvcmVVcGRhdGUiLCJjaGFuZ2VkIiwiaGFzTWFueSIsImJlbG9uZ3NUbyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./lib/db/models/Invoice.ts\n");

/***/ }),

/***/ "(api)/./lib/db/models/User.ts":
/*!*******************************!*\
  !*** ./lib/db/models/User.ts ***!
  \*******************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var sequelize__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! sequelize */ \"sequelize\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! bcryptjs */ \"bcryptjs\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(bcryptjs__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../db */ \"(api)/./lib/db/db.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([sequelize__WEBPACK_IMPORTED_MODULE_0__, _db__WEBPACK_IMPORTED_MODULE_2__]);\n([sequelize__WEBPACK_IMPORTED_MODULE_0__, _db__WEBPACK_IMPORTED_MODULE_2__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\nconst User = _db__WEBPACK_IMPORTED_MODULE_2__.sequelize.define(\"User\", {\n    id: {\n        type: sequelize__WEBPACK_IMPORTED_MODULE_0__.DataTypes.UUID,\n        defaultValue: sequelize__WEBPACK_IMPORTED_MODULE_0__.DataTypes.UUIDV4,\n        primaryKey: true\n    },\n    email: {\n        type: sequelize__WEBPACK_IMPORTED_MODULE_0__.DataTypes.STRING,\n        allowNull: false,\n        unique: true,\n        validate: {\n            isEmail: true\n        }\n    },\n    password: {\n        type: sequelize__WEBPACK_IMPORTED_MODULE_0__.DataTypes.STRING,\n        allowNull: true\n    },\n    emailVerified: {\n        type: sequelize__WEBPACK_IMPORTED_MODULE_0__.DataTypes.BOOLEAN,\n        defaultValue: false\n    },\n    name: {\n        type: sequelize__WEBPACK_IMPORTED_MODULE_0__.DataTypes.STRING,\n        allowNull: true\n    },\n    image: {\n        type: sequelize__WEBPACK_IMPORTED_MODULE_0__.DataTypes.STRING,\n        allowNull: true\n    },\n    googleId: {\n        type: sequelize__WEBPACK_IMPORTED_MODULE_0__.DataTypes.STRING,\n        allowNull: true,\n        unique: true\n    },\n    settings: {\n        type: sequelize__WEBPACK_IMPORTED_MODULE_0__.DataTypes.JSONB,\n        defaultValue: {\n            sender: {\n                name: \"\",\n                address: \"\",\n                city: \"\",\n                postalCode: \"\",\n                country: \"\"\n            },\n            logoUrl: \"\"\n        }\n    }\n}, {\n    timestamps: true,\n    hooks: {\n        beforeCreate: async (user)=>{\n            if (user.password) {\n                const salt = await bcryptjs__WEBPACK_IMPORTED_MODULE_1___default().genSalt(10);\n                user.password = await bcryptjs__WEBPACK_IMPORTED_MODULE_1___default().hash(user.password, salt);\n            }\n        },\n        beforeUpdate: async (user)=>{\n            if (user.changed(\"password\")) {\n                const salt = await bcryptjs__WEBPACK_IMPORTED_MODULE_1___default().genSalt(10);\n                user.password = await bcryptjs__WEBPACK_IMPORTED_MODULE_1___default().hash(user.password, salt);\n            }\n        }\n    }\n});\n// Instance method to compare password\nUser.prototype.comparePassword = async function(candidatePassword) {\n    // If user has no password (e.g., Google auth user), return false\n    if (!this.password) {\n        return false;\n    }\n    return await bcryptjs__WEBPACK_IMPORTED_MODULE_1___default().compare(candidatePassword, this.password);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (User);\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvZGIvbW9kZWxzL1VzZXIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBdUQ7QUFDekI7QUFDSTtBQWlDbEMsTUFBTUcsT0FBT0QsMENBQVNBLENBQUNFLE1BQU0sQ0FDM0IsUUFDQTtJQUNFQyxJQUFJO1FBQ0ZDLE1BQU1OLGdEQUFTQSxDQUFDTyxJQUFJO1FBQ3BCQyxjQUFjUixnREFBU0EsQ0FBQ1MsTUFBTTtRQUM5QkMsWUFBWTtJQUNkO0lBQ0FDLE9BQU87UUFDTEwsTUFBTU4sZ0RBQVNBLENBQUNZLE1BQU07UUFDdEJDLFdBQVc7UUFDWEMsUUFBUTtRQUNSQyxVQUFVO1lBQ1JDLFNBQVM7UUFDWDtJQUNGO0lBQ0FDLFVBQVU7UUFDUlgsTUFBTU4sZ0RBQVNBLENBQUNZLE1BQU07UUFDdEJDLFdBQVc7SUFDYjtJQUNBSyxlQUFlO1FBQ2JaLE1BQU1OLGdEQUFTQSxDQUFDbUIsT0FBTztRQUN2QlgsY0FBYztJQUNoQjtJQUNBWSxNQUFNO1FBQ0pkLE1BQU1OLGdEQUFTQSxDQUFDWSxNQUFNO1FBQ3RCQyxXQUFXO0lBQ2I7SUFDQVEsT0FBTztRQUNMZixNQUFNTixnREFBU0EsQ0FBQ1ksTUFBTTtRQUN0QkMsV0FBVztJQUNiO0lBQ0FTLFVBQVU7UUFDUmhCLE1BQU1OLGdEQUFTQSxDQUFDWSxNQUFNO1FBQ3RCQyxXQUFXO1FBQ1hDLFFBQVE7SUFDVjtJQUNBUyxVQUFVO1FBQ1JqQixNQUFNTixnREFBU0EsQ0FBQ3dCLEtBQUs7UUFDckJoQixjQUFjO1lBQ1ppQixRQUFRO2dCQUNOTCxNQUFNO2dCQUNOTSxTQUFTO2dCQUNUQyxNQUFNO2dCQUNOQyxZQUFZO2dCQUNaQyxTQUFTO1lBQ1g7WUFDQUMsU0FBUztRQUNYO0lBQ0Y7QUFDRixHQUNBO0lBQ0VDLFlBQVk7SUFDWkMsT0FBTztRQUNMQyxjQUFjLE9BQU9DO1lBQ25CLElBQUlBLEtBQUtqQixRQUFRLEVBQUU7Z0JBQ2pCLE1BQU1rQixPQUFPLE1BQU1sQyx1REFBYyxDQUFDO2dCQUNsQ2lDLEtBQUtqQixRQUFRLEdBQUcsTUFBTWhCLG9EQUFXLENBQUNpQyxLQUFLakIsUUFBUSxFQUFFa0I7WUFDbkQ7UUFDRjtRQUNBRyxjQUFjLE9BQU9KO1lBQ25CLElBQUlBLEtBQUtLLE9BQU8sQ0FBQyxhQUFhO2dCQUM1QixNQUFNSixPQUFPLE1BQU1sQyx1REFBYyxDQUFDO2dCQUNsQ2lDLEtBQUtqQixRQUFRLEdBQUcsTUFBTWhCLG9EQUFXLENBQUNpQyxLQUFLakIsUUFBUSxFQUFFa0I7WUFDbkQ7UUFDRjtJQUNGO0FBQ0Y7QUFHRixzQ0FBc0M7QUFDdENoQyxLQUFLcUMsU0FBUyxDQUFDQyxlQUFlLEdBQUcsZUFBZUMsaUJBQXlCO0lBQ3ZFLGlFQUFpRTtJQUNqRSxJQUFJLENBQUMsSUFBSSxDQUFDekIsUUFBUSxFQUFFO1FBQ2xCLE9BQU87SUFDVDtJQUNBLE9BQU8sTUFBTWhCLHVEQUFjLENBQUN5QyxtQkFBbUIsSUFBSSxDQUFDekIsUUFBUTtBQUM5RDtBQUVBLGlFQUFlZCxJQUFJQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaW52b2ljZWdlbi8uL2xpYi9kYi9tb2RlbHMvVXNlci50cz82MTZlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERhdGFUeXBlcywgTW9kZWwsIE9wdGlvbmFsIH0gZnJvbSAnc2VxdWVsaXplJztcbmltcG9ydCBiY3J5cHQgZnJvbSAnYmNyeXB0anMnO1xuaW1wb3J0IHsgc2VxdWVsaXplIH0gZnJvbSAnLi4vZGInO1xuXG4vLyBEZWZpbmUgVXNlciBhdHRyaWJ1dGVzXG5pbnRlcmZhY2UgVXNlckF0dHJpYnV0ZXMge1xuICBpZDogc3RyaW5nO1xuICBlbWFpbDogc3RyaW5nO1xuICBwYXNzd29yZD86IHN0cmluZztcbiAgZW1haWxWZXJpZmllZDogYm9vbGVhbjtcbiAgbmFtZT86IHN0cmluZztcbiAgaW1hZ2U/OiBzdHJpbmc7XG4gIGdvb2dsZUlkPzogc3RyaW5nO1xuICBzZXR0aW5nczoge1xuICAgIHNlbmRlcj86IHtcbiAgICAgIG5hbWU6IHN0cmluZztcbiAgICAgIGFkZHJlc3M6IHN0cmluZztcbiAgICAgIGNpdHk6IHN0cmluZztcbiAgICAgIHBvc3RhbENvZGU6IHN0cmluZztcbiAgICAgIGNvdW50cnk6IHN0cmluZztcbiAgICB9O1xuICAgIGxvZ29Vcmw/OiBzdHJpbmc7XG4gIH07XG4gIGNyZWF0ZWRBdD86IERhdGU7XG4gIHVwZGF0ZWRBdD86IERhdGU7XG59XG5cbi8vIERlZmluZSBvcHRpb25hbCBhdHRyaWJ1dGVzIGZvciBVc2VyIGNyZWF0aW9uXG5pbnRlcmZhY2UgVXNlckNyZWF0aW9uQXR0cmlidXRlcyBleHRlbmRzIE9wdGlvbmFsPFVzZXJBdHRyaWJ1dGVzLCAnaWQnIHwgJ2VtYWlsVmVyaWZpZWQnIHwgJ3NldHRpbmdzJz4ge31cblxuLy8gRGVmaW5lIFVzZXIgbW9kZWwgd2l0aCBpbnN0YW5jZSBtZXRob2RzXG5pbnRlcmZhY2UgVXNlckluc3RhbmNlIGV4dGVuZHMgTW9kZWw8VXNlckF0dHJpYnV0ZXMsIFVzZXJDcmVhdGlvbkF0dHJpYnV0ZXM+LCBVc2VyQXR0cmlidXRlcyB7XG4gIGNvbXBhcmVQYXNzd29yZChjYW5kaWRhdGVQYXNzd29yZDogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPjtcbn1cblxuY29uc3QgVXNlciA9IHNlcXVlbGl6ZS5kZWZpbmU8VXNlckluc3RhbmNlPihcbiAgJ1VzZXInLFxuICB7XG4gICAgaWQ6IHtcbiAgICAgIHR5cGU6IERhdGFUeXBlcy5VVUlELFxuICAgICAgZGVmYXVsdFZhbHVlOiBEYXRhVHlwZXMuVVVJRFY0LFxuICAgICAgcHJpbWFyeUtleTogdHJ1ZVxuICAgIH0sXG4gICAgZW1haWw6IHtcbiAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgdW5pcXVlOiB0cnVlLFxuICAgICAgdmFsaWRhdGU6IHtcbiAgICAgICAgaXNFbWFpbDogdHJ1ZVxuICAgICAgfVxuICAgIH0sXG4gICAgcGFzc3dvcmQ6IHtcbiAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgICBhbGxvd051bGw6IHRydWVcbiAgICB9LFxuICAgIGVtYWlsVmVyaWZpZWQ6IHtcbiAgICAgIHR5cGU6IERhdGFUeXBlcy5CT09MRUFOLFxuICAgICAgZGVmYXVsdFZhbHVlOiBmYWxzZVxuICAgIH0sXG4gICAgbmFtZToge1xuICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyxcbiAgICAgIGFsbG93TnVsbDogdHJ1ZVxuICAgIH0sXG4gICAgaW1hZ2U6IHtcbiAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgICBhbGxvd051bGw6IHRydWVcbiAgICB9LFxuICAgIGdvb2dsZUlkOiB7XG4gICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgICAgYWxsb3dOdWxsOiB0cnVlLFxuICAgICAgdW5pcXVlOiB0cnVlXG4gICAgfSxcbiAgICBzZXR0aW5nczoge1xuICAgICAgdHlwZTogRGF0YVR5cGVzLkpTT05CLFxuICAgICAgZGVmYXVsdFZhbHVlOiB7XG4gICAgICAgIHNlbmRlcjoge1xuICAgICAgICAgIG5hbWU6ICcnLFxuICAgICAgICAgIGFkZHJlc3M6ICcnLFxuICAgICAgICAgIGNpdHk6ICcnLFxuICAgICAgICAgIHBvc3RhbENvZGU6ICcnLFxuICAgICAgICAgIGNvdW50cnk6ICcnXG4gICAgICAgIH0sXG4gICAgICAgIGxvZ29Vcmw6ICcnXG4gICAgICB9XG4gICAgfVxuICB9LFxuICB7XG4gICAgdGltZXN0YW1wczogdHJ1ZSxcbiAgICBob29rczoge1xuICAgICAgYmVmb3JlQ3JlYXRlOiBhc3luYyAodXNlcjogVXNlckluc3RhbmNlKSA9PiB7XG4gICAgICAgIGlmICh1c2VyLnBhc3N3b3JkKSB7XG4gICAgICAgICAgY29uc3Qgc2FsdCA9IGF3YWl0IGJjcnlwdC5nZW5TYWx0KDEwKTtcbiAgICAgICAgICB1c2VyLnBhc3N3b3JkID0gYXdhaXQgYmNyeXB0Lmhhc2godXNlci5wYXNzd29yZCwgc2FsdCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBiZWZvcmVVcGRhdGU6IGFzeW5jICh1c2VyOiBVc2VySW5zdGFuY2UpID0+IHtcbiAgICAgICAgaWYgKHVzZXIuY2hhbmdlZCgncGFzc3dvcmQnKSkge1xuICAgICAgICAgIGNvbnN0IHNhbHQgPSBhd2FpdCBiY3J5cHQuZ2VuU2FsdCgxMCk7XG4gICAgICAgICAgdXNlci5wYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5oYXNoKHVzZXIucGFzc3dvcmQsIHNhbHQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4pO1xuXG4vLyBJbnN0YW5jZSBtZXRob2QgdG8gY29tcGFyZSBwYXNzd29yZFxuVXNlci5wcm90b3R5cGUuY29tcGFyZVBhc3N3b3JkID0gYXN5bmMgZnVuY3Rpb24oY2FuZGlkYXRlUGFzc3dvcmQ6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAvLyBJZiB1c2VyIGhhcyBubyBwYXNzd29yZCAoZS5nLiwgR29vZ2xlIGF1dGggdXNlciksIHJldHVybiBmYWxzZVxuICBpZiAoIXRoaXMucGFzc3dvcmQpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIGF3YWl0IGJjcnlwdC5jb21wYXJlKGNhbmRpZGF0ZVBhc3N3b3JkLCB0aGlzLnBhc3N3b3JkKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFVzZXI7Il0sIm5hbWVzIjpbIkRhdGFUeXBlcyIsImJjcnlwdCIsInNlcXVlbGl6ZSIsIlVzZXIiLCJkZWZpbmUiLCJpZCIsInR5cGUiLCJVVUlEIiwiZGVmYXVsdFZhbHVlIiwiVVVJRFY0IiwicHJpbWFyeUtleSIsImVtYWlsIiwiU1RSSU5HIiwiYWxsb3dOdWxsIiwidW5pcXVlIiwidmFsaWRhdGUiLCJpc0VtYWlsIiwicGFzc3dvcmQiLCJlbWFpbFZlcmlmaWVkIiwiQk9PTEVBTiIsIm5hbWUiLCJpbWFnZSIsImdvb2dsZUlkIiwic2V0dGluZ3MiLCJKU09OQiIsInNlbmRlciIsImFkZHJlc3MiLCJjaXR5IiwicG9zdGFsQ29kZSIsImNvdW50cnkiLCJsb2dvVXJsIiwidGltZXN0YW1wcyIsImhvb2tzIiwiYmVmb3JlQ3JlYXRlIiwidXNlciIsInNhbHQiLCJnZW5TYWx0IiwiaGFzaCIsImJlZm9yZVVwZGF0ZSIsImNoYW5nZWQiLCJwcm90b3R5cGUiLCJjb21wYXJlUGFzc3dvcmQiLCJjYW5kaWRhdGVQYXNzd29yZCIsImNvbXBhcmUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./lib/db/models/User.ts\n");

/***/ }),

/***/ "(api)/./lib/db/models/index.ts":
/*!********************************!*\
  !*** ./lib/db/models/index.ts ***!
  \********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Invoice: () => (/* reexport safe */ _Invoice__WEBPACK_IMPORTED_MODULE_1__[\"default\"]),\n/* harmony export */   User: () => (/* reexport safe */ _User__WEBPACK_IMPORTED_MODULE_0__[\"default\"])\n/* harmony export */ });\n/* harmony import */ var _User__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./User */ \"(api)/./lib/db/models/User.ts\");\n/* harmony import */ var _Invoice__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Invoice */ \"(api)/./lib/db/models/Invoice.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_User__WEBPACK_IMPORTED_MODULE_0__, _Invoice__WEBPACK_IMPORTED_MODULE_1__]);\n([_User__WEBPACK_IMPORTED_MODULE_0__, _Invoice__WEBPACK_IMPORTED_MODULE_1__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvZGIvbW9kZWxzL2luZGV4LnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBMEI7QUFDTTtBQUs5QiIsInNvdXJjZXMiOlsid2VicGFjazovL2ludm9pY2VnZW4vLi9saWIvZGIvbW9kZWxzL2luZGV4LnRzPzY3NTciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFVzZXIgZnJvbSAnLi9Vc2VyJztcbmltcG9ydCBJbnZvaWNlIGZyb20gJy4vSW52b2ljZSc7XG5cbmV4cG9ydCB7XG4gIFVzZXIsXG4gIEludm9pY2Vcbn07Il0sIm5hbWVzIjpbIlVzZXIiLCJJbnZvaWNlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./lib/db/models/index.ts\n");

/***/ }),

/***/ "(api)/./pages/api/auth/register.ts":
/*!************************************!*\
  !*** ./pages/api/auth/register.ts ***!
  \************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _lib_api_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../lib/api-utils */ \"(api)/./lib/api-utils.ts\");\n/* harmony import */ var _lib_db_models__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../lib/db/models */ \"(api)/./lib/db/models/index.ts\");\n/* harmony import */ var _lib_db_db__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../lib/db/db */ \"(api)/./lib/db/db.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_lib_api_utils__WEBPACK_IMPORTED_MODULE_0__, _lib_db_models__WEBPACK_IMPORTED_MODULE_1__, _lib_db_db__WEBPACK_IMPORTED_MODULE_2__]);\n([_lib_api_utils__WEBPACK_IMPORTED_MODULE_0__, _lib_db_models__WEBPACK_IMPORTED_MODULE_1__, _lib_db_db__WEBPACK_IMPORTED_MODULE_2__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\nasync function handler(req, res) {\n    // Only allow POST requests\n    if (req.method !== \"POST\") {\n        return res.status(405).json({\n            success: false,\n            message: \"Method not allowed\"\n        });\n    }\n    try {\n        // Initialize database connection\n        await (0,_lib_db_db__WEBPACK_IMPORTED_MODULE_2__.initDb)();\n        const { email, password } = req.body;\n        // Validate input\n        if (!email || !password) {\n            return res.status(400).json({\n                success: false,\n                message: \"Email and password are required\"\n            });\n        }\n        // Check if email is valid\n        const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n        if (!emailRegex.test(email)) {\n            return res.status(400).json({\n                success: false,\n                message: \"Invalid email format\"\n            });\n        }\n        // Check if password is strong enough\n        if (password.length < 8) {\n            return res.status(400).json({\n                success: false,\n                message: \"Password must be at least 8 characters long\"\n            });\n        }\n        // Check if user already exists\n        const existingUser = await _lib_db_models__WEBPACK_IMPORTED_MODULE_1__.User.findOne({\n            where: {\n                email\n            }\n        });\n        if (existingUser) {\n            return res.status(400).json({\n                success: false,\n                message: \"User with this email already exists\"\n            });\n        }\n        // Create new user\n        const user = await _lib_db_models__WEBPACK_IMPORTED_MODULE_1__.User.create({\n            email,\n            password,\n            emailVerified: true,\n            settings: {\n                sender: {\n                    name: \"\",\n                    address: \"\",\n                    city: \"\",\n                    postalCode: \"\",\n                    country: \"\"\n                },\n                logoUrl: \"\"\n            }\n        });\n        // Remove password from response\n        const userResponse = {\n            id: user.id,\n            email: user.email,\n            emailVerified: user.emailVerified,\n            settings: user.settings,\n            createdAt: user.createdAt\n        };\n        return (0,_lib_api_utils__WEBPACK_IMPORTED_MODULE_0__.handleSuccess)(res, userResponse, \"User registered successfully\", 201);\n    } catch (error) {\n        return (0,_lib_api_utils__WEBPACK_IMPORTED_MODULE_0__.handleError)(res, error);\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvYXV0aC9yZWdpc3Rlci50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQ29FO0FBQ3RCO0FBQ0Y7QUFFN0IsZUFBZUksUUFBUUMsR0FBbUIsRUFBRUMsR0FBb0I7SUFDN0UsMkJBQTJCO0lBQzNCLElBQUlELElBQUlFLE1BQU0sS0FBSyxRQUFRO1FBQ3pCLE9BQU9ELElBQUlFLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7WUFBRUMsU0FBUztZQUFPQyxTQUFTO1FBQXFCO0lBQzlFO0lBRUEsSUFBSTtRQUNGLGlDQUFpQztRQUNqQyxNQUFNUixrREFBTUE7UUFFWixNQUFNLEVBQUVTLEtBQUssRUFBRUMsUUFBUSxFQUFFLEdBQUdSLElBQUlTLElBQUk7UUFFcEMsaUJBQWlCO1FBQ2pCLElBQUksQ0FBQ0YsU0FBUyxDQUFDQyxVQUFVO1lBQ3ZCLE9BQU9QLElBQUlFLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7Z0JBQzFCQyxTQUFTO2dCQUNUQyxTQUFTO1lBQ1g7UUFDRjtRQUVBLDBCQUEwQjtRQUMxQixNQUFNSSxhQUFhO1FBQ25CLElBQUksQ0FBQ0EsV0FBV0MsSUFBSSxDQUFDSixRQUFRO1lBQzNCLE9BQU9OLElBQUlFLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7Z0JBQzFCQyxTQUFTO2dCQUNUQyxTQUFTO1lBQ1g7UUFDRjtRQUVBLHFDQUFxQztRQUNyQyxJQUFJRSxTQUFTSSxNQUFNLEdBQUcsR0FBRztZQUN2QixPQUFPWCxJQUFJRSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO2dCQUMxQkMsU0FBUztnQkFDVEMsU0FBUztZQUNYO1FBQ0Y7UUFFQSwrQkFBK0I7UUFDL0IsTUFBTU8sZUFBZSxNQUFNaEIsZ0RBQUlBLENBQUNpQixPQUFPLENBQUM7WUFBRUMsT0FBTztnQkFBRVI7WUFBTTtRQUFFO1FBRTNELElBQUlNLGNBQWM7WUFDaEIsT0FBT1osSUFBSUUsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztnQkFDMUJDLFNBQVM7Z0JBQ1RDLFNBQVM7WUFDWDtRQUNGO1FBRUEsa0JBQWtCO1FBQ2xCLE1BQU1VLE9BQU8sTUFBTW5CLGdEQUFJQSxDQUFDb0IsTUFBTSxDQUFDO1lBQzdCVjtZQUNBQztZQUNBVSxlQUFlO1lBQ2ZDLFVBQVU7Z0JBQ1JDLFFBQVE7b0JBQ05DLE1BQU07b0JBQ05DLFNBQVM7b0JBQ1RDLE1BQU07b0JBQ05DLFlBQVk7b0JBQ1pDLFNBQVM7Z0JBQ1g7Z0JBQ0FDLFNBQVM7WUFDWDtRQUNGO1FBRUEsZ0NBQWdDO1FBQ2hDLE1BQU1DLGVBQWU7WUFDbkJDLElBQUlaLEtBQUtZLEVBQUU7WUFDWHJCLE9BQU9TLEtBQUtULEtBQUs7WUFDakJXLGVBQWVGLEtBQUtFLGFBQWE7WUFDakNDLFVBQVVILEtBQUtHLFFBQVE7WUFDdkJVLFdBQVdiLEtBQUthLFNBQVM7UUFDM0I7UUFFQSxPQUFPakMsNkRBQWFBLENBQUNLLEtBQUswQixjQUFjLGdDQUFnQztJQUMxRSxFQUFFLE9BQU9HLE9BQU87UUFDZCxPQUFPbkMsMkRBQVdBLENBQUNNLEtBQUs2QjtJQUMxQjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaW52b2ljZWdlbi8uL3BhZ2VzL2FwaS9hdXRoL3JlZ2lzdGVyLnRzPzEzYzAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dEFwaVJlcXVlc3QsIE5leHRBcGlSZXNwb25zZSB9IGZyb20gJ25leHQnO1xuaW1wb3J0IHsgaGFuZGxlRXJyb3IsIGhhbmRsZVN1Y2Nlc3MgfSBmcm9tICcuLi8uLi8uLi9saWIvYXBpLXV0aWxzJztcbmltcG9ydCB7IFVzZXIgfSBmcm9tICcuLi8uLi8uLi9saWIvZGIvbW9kZWxzJztcbmltcG9ydCB7IGluaXREYiB9IGZyb20gJy4uLy4uLy4uL2xpYi9kYi9kYic7XG5cbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIocmVxOiBOZXh0QXBpUmVxdWVzdCwgcmVzOiBOZXh0QXBpUmVzcG9uc2UpIHtcbiAgLy8gT25seSBhbGxvdyBQT1NUIHJlcXVlc3RzXG4gIGlmIChyZXEubWV0aG9kICE9PSAnUE9TVCcpIHtcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDUpLmpzb24oeyBzdWNjZXNzOiBmYWxzZSwgbWVzc2FnZTogJ01ldGhvZCBub3QgYWxsb3dlZCcgfSk7XG4gIH1cblxuICB0cnkge1xuICAgIC8vIEluaXRpYWxpemUgZGF0YWJhc2UgY29ubmVjdGlvblxuICAgIGF3YWl0IGluaXREYigpO1xuICAgIFxuICAgIGNvbnN0IHsgZW1haWwsIHBhc3N3b3JkIH0gPSByZXEuYm9keTtcbiAgICBcbiAgICAvLyBWYWxpZGF0ZSBpbnB1dFxuICAgIGlmICghZW1haWwgfHwgIXBhc3N3b3JkKSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgbWVzc2FnZTogJ0VtYWlsIGFuZCBwYXNzd29yZCBhcmUgcmVxdWlyZWQnXG4gICAgICB9KTtcbiAgICB9XG4gICAgXG4gICAgLy8gQ2hlY2sgaWYgZW1haWwgaXMgdmFsaWRcbiAgICBjb25zdCBlbWFpbFJlZ2V4ID0gL15bXlxcc0BdK0BbXlxcc0BdK1xcLlteXFxzQF0rJC87XG4gICAgaWYgKCFlbWFpbFJlZ2V4LnRlc3QoZW1haWwpKSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgbWVzc2FnZTogJ0ludmFsaWQgZW1haWwgZm9ybWF0J1xuICAgICAgfSk7XG4gICAgfVxuICAgIFxuICAgIC8vIENoZWNrIGlmIHBhc3N3b3JkIGlzIHN0cm9uZyBlbm91Z2hcbiAgICBpZiAocGFzc3dvcmQubGVuZ3RoIDwgOCkge1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIG1lc3NhZ2U6ICdQYXNzd29yZCBtdXN0IGJlIGF0IGxlYXN0IDggY2hhcmFjdGVycyBsb25nJ1xuICAgICAgfSk7XG4gICAgfVxuICAgIFxuICAgIC8vIENoZWNrIGlmIHVzZXIgYWxyZWFkeSBleGlzdHNcbiAgICBjb25zdCBleGlzdGluZ1VzZXIgPSBhd2FpdCBVc2VyLmZpbmRPbmUoeyB3aGVyZTogeyBlbWFpbCB9IH0pO1xuICAgIFxuICAgIGlmIChleGlzdGluZ1VzZXIpIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBtZXNzYWdlOiAnVXNlciB3aXRoIHRoaXMgZW1haWwgYWxyZWFkeSBleGlzdHMnXG4gICAgICB9KTtcbiAgICB9XG4gICAgXG4gICAgLy8gQ3JlYXRlIG5ldyB1c2VyXG4gICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuY3JlYXRlKHtcbiAgICAgIGVtYWlsLFxuICAgICAgcGFzc3dvcmQsXG4gICAgICBlbWFpbFZlcmlmaWVkOiB0cnVlLCAvLyBGb3Igc2ltcGxpY2l0eSwgYXV0by12ZXJpZnkgZW1haWxcbiAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgIHNlbmRlcjoge1xuICAgICAgICAgIG5hbWU6ICcnLFxuICAgICAgICAgIGFkZHJlc3M6ICcnLFxuICAgICAgICAgIGNpdHk6ICcnLFxuICAgICAgICAgIHBvc3RhbENvZGU6ICcnLFxuICAgICAgICAgIGNvdW50cnk6ICcnXG4gICAgICAgIH0sXG4gICAgICAgIGxvZ29Vcmw6ICcnXG4gICAgICB9XG4gICAgfSk7XG4gICAgXG4gICAgLy8gUmVtb3ZlIHBhc3N3b3JkIGZyb20gcmVzcG9uc2VcbiAgICBjb25zdCB1c2VyUmVzcG9uc2UgPSB7XG4gICAgICBpZDogdXNlci5pZCxcbiAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxuICAgICAgZW1haWxWZXJpZmllZDogdXNlci5lbWFpbFZlcmlmaWVkLFxuICAgICAgc2V0dGluZ3M6IHVzZXIuc2V0dGluZ3MsXG4gICAgICBjcmVhdGVkQXQ6IHVzZXIuY3JlYXRlZEF0XG4gICAgfTtcbiAgICBcbiAgICByZXR1cm4gaGFuZGxlU3VjY2VzcyhyZXMsIHVzZXJSZXNwb25zZSwgJ1VzZXIgcmVnaXN0ZXJlZCBzdWNjZXNzZnVsbHknLCAyMDEpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiBoYW5kbGVFcnJvcihyZXMsIGVycm9yKTtcbiAgfVxufSJdLCJuYW1lcyI6WyJoYW5kbGVFcnJvciIsImhhbmRsZVN1Y2Nlc3MiLCJVc2VyIiwiaW5pdERiIiwiaGFuZGxlciIsInJlcSIsInJlcyIsIm1ldGhvZCIsInN0YXR1cyIsImpzb24iLCJzdWNjZXNzIiwibWVzc2FnZSIsImVtYWlsIiwicGFzc3dvcmQiLCJib2R5IiwiZW1haWxSZWdleCIsInRlc3QiLCJsZW5ndGgiLCJleGlzdGluZ1VzZXIiLCJmaW5kT25lIiwid2hlcmUiLCJ1c2VyIiwiY3JlYXRlIiwiZW1haWxWZXJpZmllZCIsInNldHRpbmdzIiwic2VuZGVyIiwibmFtZSIsImFkZHJlc3MiLCJjaXR5IiwicG9zdGFsQ29kZSIsImNvdW50cnkiLCJsb2dvVXJsIiwidXNlclJlc3BvbnNlIiwiaWQiLCJjcmVhdGVkQXQiLCJlcnJvciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./pages/api/auth/register.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fauth%2Fregister&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fauth%2Fregister.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();